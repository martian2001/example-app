function xr(i,r){return function(){return i.apply(r,arguments)}}const{toString:cs}=Object.prototype,{getPrototypeOf:Wn}=Object,nn=(i=>r=>{const s=cs.call(r);return i[s]||(i[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ce=i=>(i=i.toLowerCase(),r=>nn(r)===i),rn=i=>r=>typeof r===i,{isArray:rt}=Array,kt=rn("undefined");function us(i){return i!==null&&!kt(i)&&i.constructor!==null&&!kt(i.constructor)&&de(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Lr=Ce("ArrayBuffer");function ls(i){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(i):r=i&&i.buffer&&Lr(i.buffer),r}const hs=rn("string"),de=rn("function"),Nr=rn("number"),on=i=>i!==null&&typeof i=="object",fs=i=>i===!0||i===!1,$t=i=>{if(nn(i)!=="object")return!1;const r=Wn(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},ps=Ce("Date"),ds=Ce("File"),ms=Ce("Blob"),ys=Ce("FileList"),vs=i=>on(i)&&de(i.pipe),gs=i=>{let r;return i&&(typeof FormData=="function"&&i instanceof FormData||de(i.append)&&((r=nn(i))==="formdata"||r==="object"&&de(i.toString)&&i.toString()==="[object FormData]"))},_s=Ce("URLSearchParams"),bs=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function At(i,r,{allOwnKeys:s=!1}={}){if(i===null||typeof i>"u")return;let a,u;if(typeof i!="object"&&(i=[i]),rt(i))for(a=0,u=i.length;a<u;a++)r.call(null,i[a],a,i);else{const h=s?Object.getOwnPropertyNames(i):Object.keys(i),f=h.length;let y;for(a=0;a<f;a++)y=h[a],r.call(null,i[y],y,i)}}function Ir(i,r){r=r.toLowerCase();const s=Object.keys(i);let a=s.length,u;for(;a-- >0;)if(u=s[a],r===u.toLowerCase())return u;return null}const Dr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Mr=i=>!kt(i)&&i!==Dr;function Dn(){const{caseless:i}=Mr(this)&&this||{},r={},s=(a,u)=>{const h=i&&Ir(r,u)||u;$t(r[h])&&$t(a)?r[h]=Dn(r[h],a):$t(a)?r[h]=Dn({},a):rt(a)?r[h]=a.slice():r[h]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&At(arguments[a],s);return r}const ws=(i,r,s,{allOwnKeys:a}={})=>(At(r,(u,h)=>{s&&de(u)?i[h]=xr(u,s):i[h]=u},{allOwnKeys:a}),i),Ts=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Ss=(i,r,s,a)=>{i.prototype=Object.create(r.prototype,a),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:r.prototype}),s&&Object.assign(i.prototype,s)},Es=(i,r,s,a)=>{let u,h,f;const y={};if(r=r||{},i==null)return r;do{for(u=Object.getOwnPropertyNames(i),h=u.length;h-- >0;)f=u[h],(!a||a(f,i,r))&&!y[f]&&(r[f]=i[f],y[f]=!0);i=s!==!1&&Wn(i)}while(i&&(!s||s(i,r))&&i!==Object.prototype);return r},Cs=(i,r,s)=>{i=String(i),(s===void 0||s>i.length)&&(s=i.length),s-=r.length;const a=i.indexOf(r,s);return a!==-1&&a===s},ks=i=>{if(!i)return null;if(rt(i))return i;let r=i.length;if(!Nr(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=i[r];return s},As=(i=>r=>i&&r instanceof i)(typeof Uint8Array<"u"&&Wn(Uint8Array)),Os=(i,r)=>{const a=(i&&i[Symbol.iterator]).call(i);let u;for(;(u=a.next())&&!u.done;){const h=u.value;r.call(i,h[0],h[1])}},Rs=(i,r)=>{let s;const a=[];for(;(s=i.exec(r))!==null;)a.push(s);return a},Ps=Ce("HTMLFormElement"),xs=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,u){return a.toUpperCase()+u}),fr=(({hasOwnProperty:i})=>(r,s)=>i.call(r,s))(Object.prototype),Ls=Ce("RegExp"),Ur=(i,r)=>{const s=Object.getOwnPropertyDescriptors(i),a={};At(s,(u,h)=>{r(u,h,i)!==!1&&(a[h]=u)}),Object.defineProperties(i,a)},Ns=i=>{Ur(i,(r,s)=>{if(de(i)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=i[s];if(de(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Is=(i,r)=>{const s={},a=u=>{u.forEach(h=>{s[h]=!0})};return rt(i)?a(i):a(String(i).split(r)),s},Ds=()=>{},Ms=(i,r)=>(i=+i,Number.isFinite(i)?i:r),kn="abcdefghijklmnopqrstuvwxyz",pr="0123456789",Fr={DIGIT:pr,ALPHA:kn,ALPHA_DIGIT:kn+kn.toUpperCase()+pr},Us=(i=16,r=Fr.ALPHA_DIGIT)=>{let s="";const{length:a}=r;for(;i--;)s+=r[Math.random()*a|0];return s};function Fs(i){return!!(i&&de(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const js=i=>{const r=new Array(10),s=(a,u)=>{if(on(a)){if(r.indexOf(a)>=0)return;if(!("toJSON"in a)){r[u]=a;const h=rt(a)?[]:{};return At(a,(f,y)=>{const b=s(f,u+1);!kt(b)&&(h[y]=b)}),r[u]=void 0,h}}return a};return s(i,0)},Hs=Ce("AsyncFunction"),Bs=i=>i&&(on(i)||de(i))&&de(i.then)&&de(i.catch),m={isArray:rt,isArrayBuffer:Lr,isBuffer:us,isFormData:gs,isArrayBufferView:ls,isString:hs,isNumber:Nr,isBoolean:fs,isObject:on,isPlainObject:$t,isUndefined:kt,isDate:ps,isFile:ds,isBlob:ms,isRegExp:Ls,isFunction:de,isStream:vs,isURLSearchParams:_s,isTypedArray:As,isFileList:ys,forEach:At,merge:Dn,extend:ws,trim:bs,stripBOM:Ts,inherits:Ss,toFlatObject:Es,kindOf:nn,kindOfTest:Ce,endsWith:Cs,toArray:ks,forEachEntry:Os,matchAll:Rs,isHTMLForm:Ps,hasOwnProperty:fr,hasOwnProp:fr,reduceDescriptors:Ur,freezeMethods:Ns,toObjectSet:Is,toCamelCase:xs,noop:Ds,toFiniteNumber:Ms,findKey:Ir,global:Dr,isContextDefined:Mr,ALPHABET:Fr,generateString:Us,isSpecCompliantForm:Fs,toJSONObject:js,isAsyncFn:Hs,isThenable:Bs};function F(i,r,s,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),u&&(this.response=u)}m.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jr=F.prototype,Hr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{Hr[i]={value:i}});Object.defineProperties(F,Hr);Object.defineProperty(jr,"isAxiosError",{value:!0});F.from=(i,r,s,a,u,h)=>{const f=Object.create(jr);return m.toFlatObject(i,f,function(b){return b!==Error.prototype},y=>y!=="isAxiosError"),F.call(f,i.message,r,s,a,u),f.cause=i,f.name=i.name,h&&Object.assign(f,h),f};const qs=null;function Mn(i){return m.isPlainObject(i)||m.isArray(i)}function Br(i){return m.endsWith(i,"[]")?i.slice(0,-2):i}function dr(i,r,s){return i?i.concat(r).map(function(u,h){return u=Br(u),!s&&h?"["+u+"]":u}).join(s?".":""):r}function zs(i){return m.isArray(i)&&!i.some(Mn)}const Ws=m.toFlatObject(m,{},null,function(r){return/^is[A-Z]/.test(r)});function sn(i,r,s){if(!m.isObject(i))throw new TypeError("target must be an object");r=r||new FormData,s=m.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,g){return!m.isUndefined(g[S])});const a=s.metaTokens,u=s.visitor||C,h=s.dots,f=s.indexes,b=(s.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(r);if(!m.isFunction(u))throw new TypeError("visitor must be a function");function v(E){if(E===null)return"";if(m.isDate(E))return E.toISOString();if(!b&&m.isBlob(E))throw new F("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(E)||m.isTypedArray(E)?b&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function C(E,S,g){let T=E;if(E&&!g&&typeof E=="object"){if(m.endsWith(S,"{}"))S=a?S:S.slice(0,-2),E=JSON.stringify(E);else if(m.isArray(E)&&zs(E)||(m.isFileList(E)||m.endsWith(S,"[]"))&&(T=m.toArray(E)))return S=Br(S),T.forEach(function(I,q){!(m.isUndefined(I)||I===null)&&r.append(f===!0?dr([S],q,h):f===null?S:S+"[]",v(I))}),!1}return Mn(E)?!0:(r.append(dr(g,S,h),v(E)),!1)}const A=[],x=Object.assign(Ws,{defaultVisitor:C,convertValue:v,isVisitable:Mn});function R(E,S){if(!m.isUndefined(E)){if(A.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));A.push(E),m.forEach(E,function(T,N){(!(m.isUndefined(T)||T===null)&&u.call(r,T,m.isString(N)?N.trim():N,S,x))===!0&&R(T,S?S.concat(N):[N])}),A.pop()}}if(!m.isObject(i))throw new TypeError("data must be an object");return R(i),r}function mr(i){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function Xn(i,r){this._pairs=[],i&&sn(i,this,r)}const qr=Xn.prototype;qr.append=function(r,s){this._pairs.push([r,s])};qr.toString=function(r){const s=r?function(a){return r.call(this,a,mr)}:mr;return this._pairs.map(function(u){return s(u[0])+"="+s(u[1])},"").join("&")};function Xs(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zr(i,r,s){if(!r)return i;const a=s&&s.encode||Xs,u=s&&s.serialize;let h;if(u?h=u(r,s):h=m.isURLSearchParams(r)?r.toString():new Xn(r,s).toString(a),h){const f=i.indexOf("#");f!==-1&&(i=i.slice(0,f)),i+=(i.indexOf("?")===-1?"?":"&")+h}return i}class Gs{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){m.forEach(this.handlers,function(a){a!==null&&r(a)})}}const yr=Gs,Wr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Js=typeof URLSearchParams<"u"?URLSearchParams:Xn,$s=typeof FormData<"u"?FormData:null,Vs=typeof Blob<"u"?Blob:null,Ys=(()=>{let i;return typeof navigator<"u"&&((i=navigator.product)==="ReactNative"||i==="NativeScript"||i==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ks=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ee={isBrowser:!0,classes:{URLSearchParams:Js,FormData:$s,Blob:Vs},isStandardBrowserEnv:Ys,isStandardBrowserWebWorkerEnv:Ks,protocols:["http","https","file","blob","url","data"]};function Qs(i,r){return sn(i,new Ee.classes.URLSearchParams,Object.assign({visitor:function(s,a,u,h){return Ee.isNode&&m.isBuffer(s)?(this.append(a,s.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},r))}function Zs(i){return m.matchAll(/\w+|\[(\w*)]/g,i).map(r=>r[0]==="[]"?"":r[1]||r[0])}function ea(i){const r={},s=Object.keys(i);let a;const u=s.length;let h;for(a=0;a<u;a++)h=s[a],r[h]=i[h];return r}function Xr(i){function r(s,a,u,h){let f=s[h++];const y=Number.isFinite(+f),b=h>=s.length;return f=!f&&m.isArray(u)?u.length:f,b?(m.hasOwnProp(u,f)?u[f]=[u[f],a]:u[f]=a,!y):((!u[f]||!m.isObject(u[f]))&&(u[f]=[]),r(s,a,u[f],h)&&m.isArray(u[f])&&(u[f]=ea(u[f])),!y)}if(m.isFormData(i)&&m.isFunction(i.entries)){const s={};return m.forEachEntry(i,(a,u)=>{r(Zs(a),u,s,0)}),s}return null}const ta={"Content-Type":void 0};function na(i,r,s){if(m.isString(i))try{return(r||JSON.parse)(i),m.trim(i)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(i)}const an={transitional:Wr,adapter:["xhr","http"],transformRequest:[function(r,s){const a=s.getContentType()||"",u=a.indexOf("application/json")>-1,h=m.isObject(r);if(h&&m.isHTMLForm(r)&&(r=new FormData(r)),m.isFormData(r))return u&&u?JSON.stringify(Xr(r)):r;if(m.isArrayBuffer(r)||m.isBuffer(r)||m.isStream(r)||m.isFile(r)||m.isBlob(r))return r;if(m.isArrayBufferView(r))return r.buffer;if(m.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let y;if(h){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Qs(r,this.formSerializer).toString();if((y=m.isFileList(r))||a.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return sn(y?{"files[]":r}:r,b&&new b,this.formSerializer)}}return h||u?(s.setContentType("application/json",!1),na(r)):r}],transformResponse:[function(r){const s=this.transitional||an.transitional,a=s&&s.forcedJSONParsing,u=this.responseType==="json";if(r&&m.isString(r)&&(a&&!this.responseType||u)){const f=!(s&&s.silentJSONParsing)&&u;try{return JSON.parse(r)}catch(y){if(f)throw y.name==="SyntaxError"?F.from(y,F.ERR_BAD_RESPONSE,this,null,this.response):y}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ee.classes.FormData,Blob:Ee.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};m.forEach(["delete","get","head"],function(r){an.headers[r]={}});m.forEach(["post","put","patch"],function(r){an.headers[r]=m.merge(ta)});const Gn=an,ra=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ia=i=>{const r={};let s,a,u;return i&&i.split(`
`).forEach(function(f){u=f.indexOf(":"),s=f.substring(0,u).trim().toLowerCase(),a=f.substring(u+1).trim(),!(!s||r[s]&&ra[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},vr=Symbol("internals");function St(i){return i&&String(i).trim().toLowerCase()}function Vt(i){return i===!1||i==null?i:m.isArray(i)?i.map(Vt):String(i)}function oa(i){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(i);)r[a[1]]=a[2];return r}const sa=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function An(i,r,s,a,u){if(m.isFunction(a))return a.call(this,r,s);if(u&&(r=s),!!m.isString(r)){if(m.isString(a))return r.indexOf(a)!==-1;if(m.isRegExp(a))return a.test(r)}}function aa(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function ca(i,r){const s=m.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(i,a+s,{value:function(u,h,f){return this[a].call(this,r,u,h,f)},configurable:!0})})}class cn{constructor(r){r&&this.set(r)}set(r,s,a){const u=this;function h(y,b,v){const C=St(b);if(!C)throw new Error("header name must be a non-empty string");const A=m.findKey(u,C);(!A||u[A]===void 0||v===!0||v===void 0&&u[A]!==!1)&&(u[A||b]=Vt(y))}const f=(y,b)=>m.forEach(y,(v,C)=>h(v,C,b));return m.isPlainObject(r)||r instanceof this.constructor?f(r,s):m.isString(r)&&(r=r.trim())&&!sa(r)?f(ia(r),s):r!=null&&h(s,r,a),this}get(r,s){if(r=St(r),r){const a=m.findKey(this,r);if(a){const u=this[a];if(!s)return u;if(s===!0)return oa(u);if(m.isFunction(s))return s.call(this,u,a);if(m.isRegExp(s))return s.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=St(r),r){const a=m.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||An(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let u=!1;function h(f){if(f=St(f),f){const y=m.findKey(a,f);y&&(!s||An(a,a[y],y,s))&&(delete a[y],u=!0)}}return m.isArray(r)?r.forEach(h):h(r),u}clear(r){const s=Object.keys(this);let a=s.length,u=!1;for(;a--;){const h=s[a];(!r||An(this,this[h],h,r,!0))&&(delete this[h],u=!0)}return u}normalize(r){const s=this,a={};return m.forEach(this,(u,h)=>{const f=m.findKey(a,h);if(f){s[f]=Vt(u),delete s[h];return}const y=r?aa(h):String(h).trim();y!==h&&delete s[h],s[y]=Vt(u),a[y]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return m.forEach(this,(a,u)=>{a!=null&&a!==!1&&(s[u]=r&&m.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(u=>a.set(u)),a}static accessor(r){const a=(this[vr]=this[vr]={accessors:{}}).accessors,u=this.prototype;function h(f){const y=St(f);a[y]||(ca(u,f),a[y]=!0)}return m.isArray(r)?r.forEach(h):h(r),this}}cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);m.freezeMethods(cn.prototype);m.freezeMethods(cn);const Pe=cn;function On(i,r){const s=this||Gn,a=r||s,u=Pe.from(a.headers);let h=a.data;return m.forEach(i,function(y){h=y.call(s,h,u.normalize(),r?r.status:void 0)}),u.normalize(),h}function Gr(i){return!!(i&&i.__CANCEL__)}function Ot(i,r,s){F.call(this,i??"canceled",F.ERR_CANCELED,r,s),this.name="CanceledError"}m.inherits(Ot,F,{__CANCEL__:!0});function ua(i,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?i(s):r(new F("Request failed with status code "+s.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const la=Ee.isStandardBrowserEnv?function(){return{write:function(s,a,u,h,f,y){const b=[];b.push(s+"="+encodeURIComponent(a)),m.isNumber(u)&&b.push("expires="+new Date(u).toGMTString()),m.isString(h)&&b.push("path="+h),m.isString(f)&&b.push("domain="+f),y===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ha(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function fa(i,r){return r?i.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):i}function Jr(i,r){return i&&!ha(r)?fa(i,r):r}const pa=Ee.isStandardBrowserEnv?function(){const r=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function u(h){let f=h;return r&&(s.setAttribute("href",f),f=s.href),s.setAttribute("href",f),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=u(window.location.href),function(f){const y=m.isString(f)?u(f):f;return y.protocol===a.protocol&&y.host===a.host}}():function(){return function(){return!0}}();function da(i){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return r&&r[1]||""}function ma(i,r){i=i||10;const s=new Array(i),a=new Array(i);let u=0,h=0,f;return r=r!==void 0?r:1e3,function(b){const v=Date.now(),C=a[h];f||(f=v),s[u]=b,a[u]=v;let A=h,x=0;for(;A!==u;)x+=s[A++],A=A%i;if(u=(u+1)%i,u===h&&(h=(h+1)%i),v-f<r)return;const R=C&&v-C;return R?Math.round(x*1e3/R):void 0}}function gr(i,r){let s=0;const a=ma(50,250);return u=>{const h=u.loaded,f=u.lengthComputable?u.total:void 0,y=h-s,b=a(y),v=h<=f;s=h;const C={loaded:h,total:f,progress:f?h/f:void 0,bytes:y,rate:b||void 0,estimated:b&&f&&v?(f-h)/b:void 0,event:u};C[r?"download":"upload"]=!0,i(C)}}const ya=typeof XMLHttpRequest<"u",va=ya&&function(i){return new Promise(function(s,a){let u=i.data;const h=Pe.from(i.headers).normalize(),f=i.responseType;let y;function b(){i.cancelToken&&i.cancelToken.unsubscribe(y),i.signal&&i.signal.removeEventListener("abort",y)}m.isFormData(u)&&(Ee.isStandardBrowserEnv||Ee.isStandardBrowserWebWorkerEnv?h.setContentType(!1):h.setContentType("multipart/form-data;",!1));let v=new XMLHttpRequest;if(i.auth){const R=i.auth.username||"",E=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";h.set("Authorization","Basic "+btoa(R+":"+E))}const C=Jr(i.baseURL,i.url);v.open(i.method.toUpperCase(),zr(C,i.params,i.paramsSerializer),!0),v.timeout=i.timeout;function A(){if(!v)return;const R=Pe.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!f||f==="text"||f==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:R,config:i,request:v};ua(function(T){s(T),b()},function(T){a(T),b()},S),v=null}if("onloadend"in v?v.onloadend=A:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(A)},v.onabort=function(){v&&(a(new F("Request aborted",F.ECONNABORTED,i,v)),v=null)},v.onerror=function(){a(new F("Network Error",F.ERR_NETWORK,i,v)),v=null},v.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||Wr;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),a(new F(E,S.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,i,v)),v=null},Ee.isStandardBrowserEnv){const R=(i.withCredentials||pa(C))&&i.xsrfCookieName&&la.read(i.xsrfCookieName);R&&h.set(i.xsrfHeaderName,R)}u===void 0&&h.setContentType(null),"setRequestHeader"in v&&m.forEach(h.toJSON(),function(E,S){v.setRequestHeader(S,E)}),m.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),f&&f!=="json"&&(v.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&v.addEventListener("progress",gr(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",gr(i.onUploadProgress)),(i.cancelToken||i.signal)&&(y=R=>{v&&(a(!R||R.type?new Ot(null,i,v):R),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(y),i.signal&&(i.signal.aborted?y():i.signal.addEventListener("abort",y)));const x=da(C);if(x&&Ee.protocols.indexOf(x)===-1){a(new F("Unsupported protocol "+x+":",F.ERR_BAD_REQUEST,i));return}v.send(u||null)})},Yt={http:qs,xhr:va};m.forEach(Yt,(i,r)=>{if(i){try{Object.defineProperty(i,"name",{value:r})}catch{}Object.defineProperty(i,"adapterName",{value:r})}});const ga={getAdapter:i=>{i=m.isArray(i)?i:[i];const{length:r}=i;let s,a;for(let u=0;u<r&&(s=i[u],!(a=m.isString(s)?Yt[s.toLowerCase()]:s));u++);if(!a)throw a===!1?new F(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(m.hasOwnProp(Yt,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!m.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:Yt};function Rn(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Ot(null,i)}function _r(i){return Rn(i),i.headers=Pe.from(i.headers),i.data=On.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),ga.getAdapter(i.adapter||Gn.adapter)(i).then(function(a){return Rn(i),a.data=On.call(i,i.transformResponse,a),a.headers=Pe.from(a.headers),a},function(a){return Gr(a)||(Rn(i),a&&a.response&&(a.response.data=On.call(i,i.transformResponse,a.response),a.response.headers=Pe.from(a.response.headers))),Promise.reject(a)})}const br=i=>i instanceof Pe?i.toJSON():i;function nt(i,r){r=r||{};const s={};function a(v,C,A){return m.isPlainObject(v)&&m.isPlainObject(C)?m.merge.call({caseless:A},v,C):m.isPlainObject(C)?m.merge({},C):m.isArray(C)?C.slice():C}function u(v,C,A){if(m.isUndefined(C)){if(!m.isUndefined(v))return a(void 0,v,A)}else return a(v,C,A)}function h(v,C){if(!m.isUndefined(C))return a(void 0,C)}function f(v,C){if(m.isUndefined(C)){if(!m.isUndefined(v))return a(void 0,v)}else return a(void 0,C)}function y(v,C,A){if(A in r)return a(v,C);if(A in i)return a(void 0,v)}const b={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:y,headers:(v,C)=>u(br(v),br(C),!0)};return m.forEach(Object.keys(Object.assign({},i,r)),function(C){const A=b[C]||u,x=A(i[C],r[C],C);m.isUndefined(x)&&A!==y||(s[C]=x)}),s}const $r="1.4.0",Jn={};["object","boolean","number","function","string","symbol"].forEach((i,r)=>{Jn[i]=function(a){return typeof a===i||"a"+(r<1?"n ":" ")+i}});const wr={};Jn.transitional=function(r,s,a){function u(h,f){return"[Axios v"+$r+"] Transitional option '"+h+"'"+f+(a?". "+a:"")}return(h,f,y)=>{if(r===!1)throw new F(u(f," has been removed"+(s?" in "+s:"")),F.ERR_DEPRECATED);return s&&!wr[f]&&(wr[f]=!0,console.warn(u(f," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(h,f,y):!0}};function _a(i,r,s){if(typeof i!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const a=Object.keys(i);let u=a.length;for(;u-- >0;){const h=a[u],f=r[h];if(f){const y=i[h],b=y===void 0||f(y,h,i);if(b!==!0)throw new F("option "+h+" must be "+b,F.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new F("Unknown option "+h,F.ERR_BAD_OPTION)}}const Un={assertOptions:_a,validators:Jn},je=Un.validators;class Zt{constructor(r){this.defaults=r,this.interceptors={request:new yr,response:new yr}}request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=nt(this.defaults,s);const{transitional:a,paramsSerializer:u,headers:h}=s;a!==void 0&&Un.assertOptions(a,{silentJSONParsing:je.transitional(je.boolean),forcedJSONParsing:je.transitional(je.boolean),clarifyTimeoutError:je.transitional(je.boolean)},!1),u!=null&&(m.isFunction(u)?s.paramsSerializer={serialize:u}:Un.assertOptions(u,{encode:je.function,serialize:je.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f;f=h&&m.merge(h.common,h[s.method]),f&&m.forEach(["delete","get","head","post","put","patch","common"],E=>{delete h[E]}),s.headers=Pe.concat(f,h);const y=[];let b=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(s)===!1||(b=b&&S.synchronous,y.unshift(S.fulfilled,S.rejected))});const v=[];this.interceptors.response.forEach(function(S){v.push(S.fulfilled,S.rejected)});let C,A=0,x;if(!b){const E=[_r.bind(this),void 0];for(E.unshift.apply(E,y),E.push.apply(E,v),x=E.length,C=Promise.resolve(s);A<x;)C=C.then(E[A++],E[A++]);return C}x=y.length;let R=s;for(A=0;A<x;){const E=y[A++],S=y[A++];try{R=E(R)}catch(g){S.call(this,g);break}}try{C=_r.call(this,R)}catch(E){return Promise.reject(E)}for(A=0,x=v.length;A<x;)C=C.then(v[A++],v[A++]);return C}getUri(r){r=nt(this.defaults,r);const s=Jr(r.baseURL,r.url);return zr(s,r.params,r.paramsSerializer)}}m.forEach(["delete","get","head","options"],function(r){Zt.prototype[r]=function(s,a){return this.request(nt(a||{},{method:r,url:s,data:(a||{}).data}))}});m.forEach(["post","put","patch"],function(r){function s(a){return function(h,f,y){return this.request(nt(y||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}Zt.prototype[r]=s(),Zt.prototype[r+"Form"]=s(!0)});const Kt=Zt;class $n{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(h){s=h});const a=this;this.promise.then(u=>{if(!a._listeners)return;let h=a._listeners.length;for(;h-- >0;)a._listeners[h](u);a._listeners=null}),this.promise.then=u=>{let h;const f=new Promise(y=>{a.subscribe(y),h=y}).then(u);return f.cancel=function(){a.unsubscribe(h)},f},r(function(h,f,y){a.reason||(a.reason=new Ot(h,f,y),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}static source(){let r;return{token:new $n(function(u){r=u}),cancel:r}}}const ba=$n;function wa(i){return function(s){return i.apply(null,s)}}function Ta(i){return m.isObject(i)&&i.isAxiosError===!0}const Fn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fn).forEach(([i,r])=>{Fn[r]=i});const Sa=Fn;function Vr(i){const r=new Kt(i),s=xr(Kt.prototype.request,r);return m.extend(s,Kt.prototype,r,{allOwnKeys:!0}),m.extend(s,r,null,{allOwnKeys:!0}),s.create=function(u){return Vr(nt(i,u))},s}const Q=Vr(Gn);Q.Axios=Kt;Q.CanceledError=Ot;Q.CancelToken=ba;Q.isCancel=Gr;Q.VERSION=$r;Q.toFormData=sn;Q.AxiosError=F;Q.Cancel=Q.CanceledError;Q.all=function(r){return Promise.all(r)};Q.spread=wa;Q.isAxiosError=Ta;Q.mergeConfig=nt;Q.AxiosHeaders=Pe;Q.formToJSON=i=>Xr(m.isHTMLForm(i)?new FormData(i):i);Q.HttpStatusCode=Sa;Q.default=Q;const Ea=Q;function jn(i){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jn(i)}function ee(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function Tr(i,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}function te(i,r,s){return r&&Tr(i.prototype,r),s&&Tr(i,s),Object.defineProperty(i,"prototype",{writable:!1}),i}function Hn(){return Hn=Object.assign||function(i){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},Hn.apply(this,arguments)}function ue(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),r&&Bn(i,r)}function en(i){return en=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},en(i)}function Bn(i,r){return Bn=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},Bn(i,r)}function Ca(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ka(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Aa(i,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ka(i)}function le(i){var r=Ca();return function(){var a=en(i),u;if(r){var h=en(this).constructor;u=Reflect.construct(a,arguments,h)}else u=a.apply(this,arguments);return Aa(this,u)}}var Vn=function(){function i(){ee(this,i)}return te(i,[{key:"listenForWhisper",value:function(s,a){return this.listen(".client-"+s,a)}},{key:"notification",value:function(s){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",s)}},{key:"stopListeningForWhisper",value:function(s,a){return this.stopListening(".client-"+s,a)}}]),i}(),Yr=function(){function i(r){ee(this,i),this.setNamespace(r)}return te(i,[{key:"format",value:function(s){return s.charAt(0)==="."||s.charAt(0)==="\\"?s.substr(1):(this.namespace&&(s=this.namespace+"."+s),s.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(s){this.namespace=s}}]),i}(),un=function(i){ue(s,i);var r=le(s);function s(a,u,h){var f;return ee(this,s),f=r.call(this),f.name=u,f.pusher=a,f.options=h,f.eventFormatter=new Yr(f.options.namespace),f.subscribe(),f}return te(s,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(u,h){return this.on(this.eventFormatter.format(u),h),this}},{key:"listenToAll",value:function(u){var h=this;return this.subscription.bind_global(function(f,y){if(!f.startsWith("pusher:")){var b=h.options.namespace.replace(/\./g,"\\"),v=f.startsWith(b)?f.substring(b.length+1):"."+f;u(v,y)}}),this}},{key:"stopListening",value:function(u,h){return h?this.subscription.unbind(this.eventFormatter.format(u),h):this.subscription.unbind(this.eventFormatter.format(u)),this}},{key:"stopListeningToAll",value:function(u){return u?this.subscription.unbind_global(u):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(u){return this.on("pusher:subscription_succeeded",function(){u()}),this}},{key:"error",value:function(u){return this.on("pusher:subscription_error",function(h){u(h)}),this}},{key:"on",value:function(u,h){return this.subscription.bind(u,h),this}}]),s}(Vn),Oa=function(i){ue(s,i);var r=le(s);function s(){return ee(this,s),r.apply(this,arguments)}return te(s,[{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}}]),s}(un),Ra=function(i){ue(s,i);var r=le(s);function s(){return ee(this,s),r.apply(this,arguments)}return te(s,[{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}}]),s}(un),Pa=function(i){ue(s,i);var r=le(s);function s(){return ee(this,s),r.apply(this,arguments)}return te(s,[{key:"here",value:function(u){return this.on("pusher:subscription_succeeded",function(h){u(Object.keys(h.members).map(function(f){return h.members[f]}))}),this}},{key:"joining",value:function(u){return this.on("pusher:member_added",function(h){u(h.info)}),this}},{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}},{key:"leaving",value:function(u){return this.on("pusher:member_removed",function(h){u(h.info)}),this}}]),s}(un),Kr=function(i){ue(s,i);var r=le(s);function s(a,u,h){var f;return ee(this,s),f=r.call(this),f.events={},f.listeners={},f.name=u,f.socket=a,f.options=h,f.eventFormatter=new Yr(f.options.namespace),f.subscribe(),f}return te(s,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(u,h){return this.on(this.eventFormatter.format(u),h),this}},{key:"stopListening",value:function(u,h){return this.unbindEvent(this.eventFormatter.format(u),h),this}},{key:"subscribed",value:function(u){return this.on("connect",function(h){u(h)}),this}},{key:"error",value:function(u){return this}},{key:"on",value:function(u,h){var f=this;return this.listeners[u]=this.listeners[u]||[],this.events[u]||(this.events[u]=function(y,b){f.name===y&&f.listeners[u]&&f.listeners[u].forEach(function(v){return v(b)})},this.socket.on(u,this.events[u])),this.listeners[u].push(h),this}},{key:"unbind",value:function(){var u=this;Object.keys(this.events).forEach(function(h){u.unbindEvent(h)})}},{key:"unbindEvent",value:function(u,h){this.listeners[u]=this.listeners[u]||[],h&&(this.listeners[u]=this.listeners[u].filter(function(f){return f!==h})),(!h||this.listeners[u].length===0)&&(this.events[u]&&(this.socket.removeListener(u,this.events[u]),delete this.events[u]),delete this.listeners[u])}}]),s}(Vn),Qr=function(i){ue(s,i);var r=le(s);function s(){return ee(this,s),r.apply(this,arguments)}return te(s,[{key:"whisper",value:function(u,h){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(u),data:h}),this}}]),s}(Kr),xa=function(i){ue(s,i);var r=le(s);function s(){return ee(this,s),r.apply(this,arguments)}return te(s,[{key:"here",value:function(u){return this.on("presence:subscribed",function(h){u(h.map(function(f){return f.user_info}))}),this}},{key:"joining",value:function(u){return this.on("presence:joining",function(h){return u(h.user_info)}),this}},{key:"whisper",value:function(u,h){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(u),data:h}),this}},{key:"leaving",value:function(u){return this.on("presence:leaving",function(h){return u(h.user_info)}),this}}]),s}(Qr),tn=function(i){ue(s,i);var r=le(s);function s(){return ee(this,s),r.apply(this,arguments)}return te(s,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(u,h){return this}},{key:"listenToAll",value:function(u){return this}},{key:"stopListening",value:function(u,h){return this}},{key:"subscribed",value:function(u){return this}},{key:"error",value:function(u){return this}},{key:"on",value:function(u,h){return this}}]),s}(Vn),Sr=function(i){ue(s,i);var r=le(s);function s(){return ee(this,s),r.apply(this,arguments)}return te(s,[{key:"whisper",value:function(u,h){return this}}]),s}(tn),La=function(i){ue(s,i);var r=le(s);function s(){return ee(this,s),r.apply(this,arguments)}return te(s,[{key:"here",value:function(u){return this}},{key:"joining",value:function(u){return this}},{key:"whisper",value:function(u,h){return this}},{key:"leaving",value:function(u){return this}}]),s}(tn),Yn=function(){function i(r){ee(this,i),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(r),this.connect()}return te(i,[{key:"setOptions",value:function(s){this.options=Hn(this._defaultOptions,s);var a=this.csrfToken();return a&&(this.options.auth.headers["X-CSRF-TOKEN"]=a,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=a),a=this.options.bearerToken,a&&(this.options.auth.headers.Authorization="Bearer "+a,this.options.userAuthentication.headers.Authorization="Bearer "+a),s}},{key:"csrfToken",value:function(){var s;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(s=document.querySelector('meta[name="csrf-token"]'))?s.getAttribute("content"):null}}]),i}(),Na=function(i){ue(s,i);var r=le(s);function s(){var a;return ee(this,s),a=r.apply(this,arguments),a.channels={},a}return te(s,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(u,h,f){return this.channel(u).listen(h,f)}},{key:"channel",value:function(u){return this.channels[u]||(this.channels[u]=new un(this.pusher,u,this.options)),this.channels[u]}},{key:"privateChannel",value:function(u){return this.channels["private-"+u]||(this.channels["private-"+u]=new Oa(this.pusher,"private-"+u,this.options)),this.channels["private-"+u]}},{key:"encryptedPrivateChannel",value:function(u){return this.channels["private-encrypted-"+u]||(this.channels["private-encrypted-"+u]=new Ra(this.pusher,"private-encrypted-"+u,this.options)),this.channels["private-encrypted-"+u]}},{key:"presenceChannel",value:function(u){return this.channels["presence-"+u]||(this.channels["presence-"+u]=new Pa(this.pusher,"presence-"+u,this.options)),this.channels["presence-"+u]}},{key:"leave",value:function(u){var h=this,f=[u,"private-"+u,"private-encrypted-"+u,"presence-"+u];f.forEach(function(y,b){h.leaveChannel(y)})}},{key:"leaveChannel",value:function(u){this.channels[u]&&(this.channels[u].unsubscribe(),delete this.channels[u])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),s}(Yn),Ia=function(i){ue(s,i);var r=le(s);function s(){var a;return ee(this,s),a=r.apply(this,arguments),a.channels={},a}return te(s,[{key:"connect",value:function(){var u=this,h=this.getSocketIO();return this.socket=h(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(u.channels).forEach(function(f){f.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(u,h,f){return this.channel(u).listen(h,f)}},{key:"channel",value:function(u){return this.channels[u]||(this.channels[u]=new Kr(this.socket,u,this.options)),this.channels[u]}},{key:"privateChannel",value:function(u){return this.channels["private-"+u]||(this.channels["private-"+u]=new Qr(this.socket,"private-"+u,this.options)),this.channels["private-"+u]}},{key:"presenceChannel",value:function(u){return this.channels["presence-"+u]||(this.channels["presence-"+u]=new xa(this.socket,"presence-"+u,this.options)),this.channels["presence-"+u]}},{key:"leave",value:function(u){var h=this,f=[u,"private-"+u,"presence-"+u];f.forEach(function(y){h.leaveChannel(y)})}},{key:"leaveChannel",value:function(u){this.channels[u]&&(this.channels[u].unsubscribe(),delete this.channels[u])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),s}(Yn),Da=function(i){ue(s,i);var r=le(s);function s(){var a;return ee(this,s),a=r.apply(this,arguments),a.channels={},a}return te(s,[{key:"connect",value:function(){}},{key:"listen",value:function(u,h,f){return new tn}},{key:"channel",value:function(u){return new tn}},{key:"privateChannel",value:function(u){return new Sr}},{key:"encryptedPrivateChannel",value:function(u){return new Sr}},{key:"presenceChannel",value:function(u){return new La}},{key:"leave",value:function(u){}},{key:"leaveChannel",value:function(u){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),s}(Yn),Ma=function(){function i(r){ee(this,i),this.options=r,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return te(i,[{key:"channel",value:function(s){return this.connector.channel(s)}},{key:"connect",value:function(){this.options.broadcaster=="pusher"?this.connector=new Na(this.options):this.options.broadcaster=="socket.io"?this.connector=new Ia(this.options):this.options.broadcaster=="null"?this.connector=new Da(this.options):typeof this.options.broadcaster=="function"&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(s){return this.connector.presenceChannel(s)}},{key:"leave",value:function(s){this.connector.leave(s)}},{key:"leaveChannel",value:function(s){this.connector.leaveChannel(s)}},{key:"leaveAllChannels",value:function(){for(var s in this.connector.channels)this.leaveChannel(s)}},{key:"listen",value:function(s,a,u){return this.connector.listen(s,a,u)}},{key:"private",value:function(s){return this.connector.privateChannel(s)}},{key:"encryptedPrivate",value:function(s){return this.connector.encryptedPrivateChannel(s)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":jn(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var s=this;Vue.http.interceptors.push(function(a,u){s.socketId()&&a.headers.set("X-Socket-ID",s.socketId()),u()})}},{key:"registerAxiosRequestInterceptor",value:function(){var s=this;axios.interceptors.request.use(function(a){return s.socketId()&&(a.headers["X-Socket-Id"]=s.socketId()),a})}},{key:"registerjQueryAjaxSetup",value:function(){var s=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(a,u,h){s.socketId()&&h.setRequestHeader("X-Socket-Id",s.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var s=this;document.addEventListener("turbo:before-fetch-request",function(a){a.detail.fetchOptions.headers["X-Socket-Id"]=s.socketId()})}}]),i}();function Ua(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Zr={exports:{}};/*!
 * Pusher JavaScript Library v8.0.2
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(i,r){(function(a,u){i.exports=u()})(window,function(){return function(s){var a={};function u(h){if(a[h])return a[h].exports;var f=a[h]={i:h,l:!1,exports:{}};return s[h].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=s,u.c=a,u.d=function(h,f,y){u.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:y})},u.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},u.t=function(h,f){if(f&1&&(h=u(h)),f&8||f&4&&typeof h=="object"&&h&&h.__esModule)return h;var y=Object.create(null);if(u.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:h}),f&2&&typeof h!="string")for(var b in h)u.d(y,b,function(v){return h[v]}.bind(null,b));return y},u.n=function(h){var f=h&&h.__esModule?function(){return h.default}:function(){return h};return u.d(f,"a",f),f},u.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},u.p="",u(u.s=2)}([function(s,a,u){var h=this&&this.__extends||function(){var S=function(g,T){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,I){N.__proto__=I}||function(N,I){for(var q in I)I.hasOwnProperty(q)&&(N[q]=I[q])},S(g,T)};return function(g,T){S(g,T);function N(){this.constructor=g}g.prototype=T===null?Object.create(T):(N.prototype=T.prototype,new N)}}();Object.defineProperty(a,"__esModule",{value:!0});var f=256,y=function(){function S(g){g===void 0&&(g="="),this._paddingCharacter=g}return S.prototype.encodedLength=function(g){return this._paddingCharacter?(g+2)/3*4|0:(g*8+5)/6|0},S.prototype.encode=function(g){for(var T="",N=0;N<g.length-2;N+=3){var I=g[N]<<16|g[N+1]<<8|g[N+2];T+=this._encodeByte(I>>>3*6&63),T+=this._encodeByte(I>>>2*6&63),T+=this._encodeByte(I>>>1*6&63),T+=this._encodeByte(I>>>0*6&63)}var q=g.length-N;if(q>0){var I=g[N]<<16|(q===2?g[N+1]<<8:0);T+=this._encodeByte(I>>>3*6&63),T+=this._encodeByte(I>>>2*6&63),q===2?T+=this._encodeByte(I>>>1*6&63):T+=this._paddingCharacter||"",T+=this._paddingCharacter||""}return T},S.prototype.maxDecodedLength=function(g){return this._paddingCharacter?g/4*3|0:(g*6+7)/8|0},S.prototype.decodedLength=function(g){return this.maxDecodedLength(g.length-this._getPaddingLength(g))},S.prototype.decode=function(g){if(g.length===0)return new Uint8Array(0);for(var T=this._getPaddingLength(g),N=g.length-T,I=new Uint8Array(this.maxDecodedLength(N)),q=0,Y=0,oe=0,ye=0,he=0,se=0,X=0;Y<N-4;Y+=4)ye=this._decodeChar(g.charCodeAt(Y+0)),he=this._decodeChar(g.charCodeAt(Y+1)),se=this._decodeChar(g.charCodeAt(Y+2)),X=this._decodeChar(g.charCodeAt(Y+3)),I[q++]=ye<<2|he>>>4,I[q++]=he<<4|se>>>2,I[q++]=se<<6|X,oe|=ye&f,oe|=he&f,oe|=se&f,oe|=X&f;if(Y<N-1&&(ye=this._decodeChar(g.charCodeAt(Y)),he=this._decodeChar(g.charCodeAt(Y+1)),I[q++]=ye<<2|he>>>4,oe|=ye&f,oe|=he&f),Y<N-2&&(se=this._decodeChar(g.charCodeAt(Y+2)),I[q++]=he<<4|se>>>2,oe|=se&f),Y<N-3&&(X=this._decodeChar(g.charCodeAt(Y+3)),I[q++]=se<<6|X,oe|=X&f),oe!==0)throw new Error("Base64Coder: incorrect characters for decoding");return I},S.prototype._encodeByte=function(g){var T=g;return T+=65,T+=25-g>>>8&0-65-26+97,T+=51-g>>>8&26-97-52+48,T+=61-g>>>8&52-48-62+43,T+=62-g>>>8&62-43-63+47,String.fromCharCode(T)},S.prototype._decodeChar=function(g){var T=f;return T+=(42-g&g-44)>>>8&-f+g-43+62,T+=(46-g&g-48)>>>8&-f+g-47+63,T+=(47-g&g-58)>>>8&-f+g-48+52,T+=(64-g&g-91)>>>8&-f+g-65+0,T+=(96-g&g-123)>>>8&-f+g-97+26,T},S.prototype._getPaddingLength=function(g){var T=0;if(this._paddingCharacter){for(var N=g.length-1;N>=0&&g[N]===this._paddingCharacter;N--)T++;if(g.length<4||T>2)throw new Error("Base64Coder: incorrect padding")}return T},S}();a.Coder=y;var b=new y;function v(S){return b.encode(S)}a.encode=v;function C(S){return b.decode(S)}a.decode=C;var A=function(S){h(g,S);function g(){return S!==null&&S.apply(this,arguments)||this}return g.prototype._encodeByte=function(T){var N=T;return N+=65,N+=25-T>>>8&0-65-26+97,N+=51-T>>>8&26-97-52+48,N+=61-T>>>8&52-48-62+45,N+=62-T>>>8&62-45-63+95,String.fromCharCode(N)},g.prototype._decodeChar=function(T){var N=f;return N+=(44-T&T-46)>>>8&-f+T-45+62,N+=(94-T&T-96)>>>8&-f+T-95+63,N+=(47-T&T-58)>>>8&-f+T-48+52,N+=(64-T&T-91)>>>8&-f+T-65+0,N+=(96-T&T-123)>>>8&-f+T-97+26,N},g}(y);a.URLSafeCoder=A;var x=new A;function R(S){return x.encode(S)}a.encodeURLSafe=R;function E(S){return x.decode(S)}a.decodeURLSafe=E,a.encodedLength=function(S){return b.encodedLength(S)},a.maxDecodedLength=function(S){return b.maxDecodedLength(S)},a.decodedLength=function(S){return b.decodedLength(S)}},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var h="utf8: invalid string",f="utf8: invalid source encoding";function y(C){for(var A=new Uint8Array(b(C)),x=0,R=0;R<C.length;R++){var E=C.charCodeAt(R);E<128?A[x++]=E:E<2048?(A[x++]=192|E>>6,A[x++]=128|E&63):E<55296?(A[x++]=224|E>>12,A[x++]=128|E>>6&63,A[x++]=128|E&63):(R++,E=(E&1023)<<10,E|=C.charCodeAt(R)&1023,E+=65536,A[x++]=240|E>>18,A[x++]=128|E>>12&63,A[x++]=128|E>>6&63,A[x++]=128|E&63)}return A}a.encode=y;function b(C){for(var A=0,x=0;x<C.length;x++){var R=C.charCodeAt(x);if(R<128)A+=1;else if(R<2048)A+=2;else if(R<55296)A+=3;else if(R<=57343){if(x>=C.length-1)throw new Error(h);x++,A+=4}else throw new Error(h)}return A}a.encodedLength=b;function v(C){for(var A=[],x=0;x<C.length;x++){var R=C[x];if(R&128){var E=void 0;if(R<224){if(x>=C.length)throw new Error(f);var S=C[++x];if((S&192)!==128)throw new Error(f);R=(R&31)<<6|S&63,E=128}else if(R<240){if(x>=C.length-1)throw new Error(f);var S=C[++x],g=C[++x];if((S&192)!==128||(g&192)!==128)throw new Error(f);R=(R&15)<<12|(S&63)<<6|g&63,E=2048}else if(R<248){if(x>=C.length-2)throw new Error(f);var S=C[++x],g=C[++x],T=C[++x];if((S&192)!==128||(g&192)!==128||(T&192)!==128)throw new Error(f);R=(R&15)<<18|(S&63)<<12|(g&63)<<6|T&63,E=65536}else throw new Error(f);if(R<E||R>=55296&&R<=57343)throw new Error(f);if(R>=65536){if(R>1114111)throw new Error(f);R-=65536,A.push(String.fromCharCode(55296|R>>10)),R=56320|R&1023}}A.push(String.fromCharCode(R))}return A.join("")}a.decode=v},function(s,a,u){s.exports=u(3).default},function(s,a,u){u.r(a);var h=function(){function t(e,n){this.lastId=0,this.prefix=e,this.name=n}return t.prototype.create=function(e){this.lastId++;var n=this.lastId,o=this.prefix+n,c=this.name+"["+n+"]",l=!1,d=function(){l||(e.apply(null,arguments),l=!0)};return this[n]=d,{number:n,id:o,name:c,callback:d}},t.prototype.remove=function(e){delete this[e.number]},t}(),f=new h("_pusher_script_","Pusher.ScriptReceivers"),y={VERSION:"8.0.2",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},b=y,v=function(){function t(e){this.options=e,this.receivers=e.receivers||f,this.loading={}}return t.prototype.load=function(e,n,o){var c=this;if(c.loading[e]&&c.loading[e].length>0)c.loading[e].push(o);else{c.loading[e]=[o];var l=D.createScriptRequest(c.getPath(e,n)),d=c.receivers.create(function(w){if(c.receivers.remove(d),c.loading[e]){var L=c.loading[e];delete c.loading[e];for(var O=function(V){V||l.cleanup()},U=0;U<L.length;U++)L[U](w,O)}});l.send(d)}},t.prototype.getRoot=function(e){var n,o=D.getDocument().location.protocol;return e&&e.useTLS||o==="https:"?n=this.options.cdn_https:n=this.options.cdn_http,n.replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(e,n){return this.getRoot(n)+"/"+e+this.options.suffix+".js"},t}(),C=v,A=new h("_pusher_dependencies","Pusher.DependenciesReceivers"),x=new C({cdn_http:b.cdn_http,cdn_https:b.cdn_https,version:b.VERSION,suffix:b.dependency_suffix,receivers:A}),R={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},E=function(t){var e="See:",n=R.urls[t];if(!n)return"";var o;return n.fullUrl?o=n.fullUrl:n.path&&(o=R.baseUrl+n.path),o?e+" "+o:""},S={buildLogSuffix:E},g;(function(t){t.UserAuthentication="user-authentication",t.ChannelAuthorization="channel-authorization"})(g||(g={}));var T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),N=function(t){T(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),I=function(t){T(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),q=function(t){T(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),Y=function(t){T(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),oe=function(t){T(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),ye=function(t){T(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),he=function(t){T(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),se=function(t){T(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),X=function(t){T(e,t);function e(n,o){var c=this.constructor,l=t.call(this,o)||this;return l.status=n,Object.setPrototypeOf(l,c.prototype),l}return e}(Error),it=function(t,e,n,o,c){var l=D.createXHR();l.open("POST",n.endpoint,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var d in n.headers)l.setRequestHeader(d,n.headers[d]);if(n.headersProvider!=null){var w=n.headersProvider();for(var d in w)l.setRequestHeader(d,w[d])}return l.onreadystatechange=function(){if(l.readyState===4)if(l.status===200){var L=void 0,O=!1;try{L=JSON.parse(l.responseText),O=!0}catch{c(new X(200,"JSON returned from "+o.toString()+" endpoint was invalid, yet status code was 200. Data was: "+l.responseText),null)}O&&c(null,L)}else{var U="";switch(o){case g.UserAuthentication:U=S.buildLogSuffix("authenticationEndpoint");break;case g.ChannelAuthorization:U="Clients must be authorized to join private or presence channels. "+S.buildLogSuffix("authorizationEndpoint");break}c(new X(l.status,"Unable to retrieve auth string from "+o.toString()+" endpoint - "+("received status: "+l.status+" from "+n.endpoint+". "+U)),null)}},l.send(e),l},ot=it;function st(t){return J(Rt(t))}var He=String.fromCharCode,Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ln=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?He(192|e>>>6)+He(128|e&63):He(224|e>>>12&15)+He(128|e>>>6&63)+He(128|e&63)},Rt=function(t){return t.replace(/[^\x00-\x7F]/g,ln)},Pt=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),o=[Je.charAt(n>>>18),Je.charAt(n>>>12&63),e>=2?"=":Je.charAt(n>>>6&63),e>=1?"=":Je.charAt(n&63)];return o.join("")},J=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,Pt)},xt=function(){function t(e,n,o,c){var l=this;this.clear=n,this.timer=e(function(){l.timer&&(l.timer=c(l.timer))},o)}return t.prototype.isRunning=function(){return this.timer!==null},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}(),G=xt,at=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();function z(t){window.clearTimeout(t)}function Be(t){window.clearInterval(t)}var ve=function(t){at(e,t);function e(n,o){return t.call(this,setTimeout,z,n,function(c){return o(),null})||this}return e}(G),Lt=function(t){at(e,t);function e(n,o){return t.call(this,setInterval,Be,n,function(c){return o(),c})||this}return e}(G),ct={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(t){return new ve(0,t)},method:function(t){var e=Array.prototype.slice.call(arguments,1);return function(n){return n[t].apply(n,e.concat(arguments))}}},K=ct;function Z(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=0;o<e.length;o++){var c=e[o];for(var l in c)c[l]&&c[l].constructor&&c[l].constructor===Object?t[l]=Z(t[l]||{},c[l]):t[l]=c[l]}return t}function xe(){for(var t=["Pusher"],e=0;e<arguments.length;e++)typeof arguments[e]=="string"?t.push(arguments[e]):t.push(ze(arguments[e]));return t.join(" : ")}function we(t,e){var n=Array.prototype.indexOf;if(t===null)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var o=0,c=t.length;o<c;o++)if(t[o]===e)return o;return-1}function ae(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function $e(t){var e=[];return ae(t,function(n,o){e.push(o)}),e}function Le(t){var e=[];return ae(t,function(n){e.push(n)}),e}function Te(t,e,n){for(var o=0;o<t.length;o++)e.call(n||window,t[o],o,t)}function qe(t,e){for(var n=[],o=0;o<t.length;o++)n.push(e(t[o],o,t,n));return n}function Nt(t,e){var n={};return ae(t,function(o,c){n[c]=e(o)}),n}function ut(t,e){e=e||function(c){return!!c};for(var n=[],o=0;o<t.length;o++)e(t[o],o,t,n)&&n.push(t[o]);return n}function It(t,e){var n={};return ae(t,function(o,c){(e&&e(o,c,t,n)||o)&&(n[c]=o)}),n}function lt(t){var e=[];return ae(t,function(n,o){e.push([o,n])}),e}function Ne(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function Ie(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}function De(t){return Nt(t,function(e){return typeof e=="object"&&(e=ze(e)),encodeURIComponent(st(e.toString()))})}function Dt(t){var e=It(t,function(o){return o!==void 0}),n=qe(lt(De(e)),K.method("join","=")).join("&");return n}function Mt(t){var e=[],n=[];return function o(c,l){var d,w,L;switch(typeof c){case"object":if(!c)return null;for(d=0;d<e.length;d+=1)if(e[d]===c)return{$ref:n[d]};if(e.push(c),n.push(l),Object.prototype.toString.apply(c)==="[object Array]")for(L=[],d=0;d<c.length;d+=1)L[d]=o(c[d],l+"["+d+"]");else{L={};for(w in c)Object.prototype.hasOwnProperty.call(c,w)&&(L[w]=o(c[w],l+"["+JSON.stringify(w)+"]"))}return L;case"number":case"string":case"boolean":return c}}(t,"$")}function ze(t){try{return JSON.stringify(t)}catch{return JSON.stringify(Mt(t))}}var ht=function(){function t(){this.globalLog=function(e){window.console&&window.console.log&&window.console.log(e)}}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLog,e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLogWarn,e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLogError,e)},t.prototype.globalLogWarn=function(e){window.console&&window.console.warn?window.console.warn(e):this.globalLog(e)},t.prototype.globalLogError=function(e){window.console&&window.console.error?window.console.error(e):this.globalLogWarn(e)},t.prototype.log=function(e){var n=xe.apply(this,arguments);if(Sn.log)Sn.log(n);else if(Sn.logToConsole){var o=e.bind(this);o(n)}},t}(),H=new ht,Ve=function(t,e,n,o,c){(n.headers!==void 0||n.headersProvider!=null)&&H.warn("To send headers with the "+o.toString()+" request, you must use AJAX, rather than JSONP.");var l=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var d=t.getDocument(),w=d.createElement("script");t.auth_callbacks[l]=function(U){c(null,U)};var L="Pusher.auth_callbacks['"+l+"']";w.src=n.endpoint+"?callback="+encodeURIComponent(L)+"&"+e;var O=d.getElementsByTagName("head")[0]||d.documentElement;O.insertBefore(w,O.firstChild)},Ye=Ve,ge=function(){function t(e){this.src=e}return t.prototype.send=function(e){var n=this,o="Error loading "+n.src;n.script=document.createElement("script"),n.script.id=e.id,n.script.src=n.src,n.script.type="text/javascript",n.script.charset="UTF-8",n.script.addEventListener?(n.script.onerror=function(){e.callback(o)},n.script.onload=function(){e.callback(null)}):n.script.onreadystatechange=function(){(n.script.readyState==="loaded"||n.script.readyState==="complete")&&e.callback(null)},n.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(n.errorScript=document.createElement("script"),n.errorScript.id=e.id+"_error",n.errorScript.text=e.name+"('"+o+"');",n.script.async=n.errorScript.async=!1):n.script.async=!0;var c=document.getElementsByTagName("head")[0];c.insertBefore(n.script,c.firstChild),n.errorScript&&c.insertBefore(n.errorScript,n.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}(),Me=ge,ft=function(){function t(e,n){this.url=e,this.data=n}return t.prototype.send=function(e){if(!this.request){var n=Dt(this.data),o=this.url+"/"+e.number+"?"+n;this.request=D.createScriptRequest(o),this.request.send(e)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}(),pt=ft,hn=function(t,e){return function(n,o){var c="http"+(e?"s":"")+"://",l=c+(t.host||t.options.host)+t.options.path,d=D.createJSONPRequest(l,n),w=D.ScriptReceivers.create(function(L,O){f.remove(w),d.cleanup(),O&&O.host&&(t.host=O.host),o&&o(L,O)});d.send(w)}},ke={name:"jsonp",getAgent:hn},fn=ke;function dt(t,e,n){var o=t+(e.useTLS?"s":""),c=e.useTLS?e.hostTLS:e.hostNonTLS;return o+"://"+c+n}function W(t,e){var n="/app/"+t,o="?protocol="+b.PROTOCOL+"&client=js&version="+b.VERSION+(e?"&"+e:"");return n+o}var Ue={getInitial:function(t,e){var n=(e.httpPath||"")+W(t,"flash=false");return dt("ws",e,n)}},pn={getInitial:function(t,e){var n=(e.httpPath||"/pusher")+W(t);return dt("http",e,n)}},Ut={getInitial:function(t,e){return dt("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return W(t)}},mt=function(){function t(){this._callbacks={}}return t.prototype.get=function(e){return this._callbacks[Ke(e)]},t.prototype.add=function(e,n,o){var c=Ke(e);this._callbacks[c]=this._callbacks[c]||[],this._callbacks[c].push({fn:n,context:o})},t.prototype.remove=function(e,n,o){if(!e&&!n&&!o){this._callbacks={};return}var c=e?[Ke(e)]:$e(this._callbacks);n||o?this.removeCallback(c,n,o):this.removeAllCallbacks(c)},t.prototype.removeCallback=function(e,n,o){Te(e,function(c){this._callbacks[c]=ut(this._callbacks[c]||[],function(l){return n&&n!==l.fn||o&&o!==l.context}),this._callbacks[c].length===0&&delete this._callbacks[c]},this)},t.prototype.removeAllCallbacks=function(e){Te(e,function(n){delete this._callbacks[n]},this)},t}(),Ft=mt;function Ke(t){return"_"+t}var dn=function(){function t(e){this.callbacks=new Ft,this.global_callbacks=[],this.failThrough=e}return t.prototype.bind=function(e,n,o){return this.callbacks.add(e,n,o),this},t.prototype.bind_global=function(e){return this.global_callbacks.push(e),this},t.prototype.unbind=function(e,n,o){return this.callbacks.remove(e,n,o),this},t.prototype.unbind_global=function(e){return e?(this.global_callbacks=ut(this.global_callbacks||[],function(n){return n!==e}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(e,n,o){for(var c=0;c<this.global_callbacks.length;c++)this.global_callbacks[c](e,n);var l=this.callbacks.get(e),d=[];if(o?d.push(n,o):n&&d.push(n),l&&l.length>0)for(var c=0;c<l.length;c++)l[c].fn.apply(l[c].context||window,d);else this.failThrough&&this.failThrough(e,n);return this},t}(),re=dn,yt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),mn=function(t){yt(e,t);function e(n,o,c,l,d){var w=t.call(this)||this;return w.initialize=D.transportConnectionInitializer,w.hooks=n,w.name=o,w.priority=c,w.key=l,w.options=d,w.state="new",w.timeline=d.timeline,w.activityTimeout=d.activityTimeout,w.id=w.timeline.generateUniqueID(),w}return e.prototype.handlesActivityChecks=function(){return!!this.hooks.handlesActivityChecks},e.prototype.supportsPing=function(){return!!this.hooks.supportsPing},e.prototype.connect=function(){var n=this;if(this.socket||this.state!=="initialized")return!1;var o=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(o,this.options)}catch(c){return K.defer(function(){n.onError(c),n.changeState("closed")}),!1}return this.bindListeners(),H.debug("Connecting",{transport:this.name,url:o}),this.changeState("connecting"),!0},e.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},e.prototype.send=function(n){var o=this;return this.state==="open"?(K.defer(function(){o.socket&&o.socket.send(n)}),!0):!1},e.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(n){this.emit("error",{type:"WebSocketError",error:n}),this.timeline.error(this.buildTimelineMessage({error:n.toString()}))},e.prototype.onClose=function(n){n?this.changeState("closed",{code:n.code,reason:n.reason,wasClean:n.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(n){this.emit("message",n)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var n=this;this.socket.onopen=function(){n.onOpen()},this.socket.onerror=function(o){n.onError(o)},this.socket.onclose=function(o){n.onClose(o)},this.socket.onmessage=function(o){n.onMessage(o)},this.supportsPing()&&(this.socket.onactivity=function(){n.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(n,o){this.state=n,this.timeline.info(this.buildTimelineMessage({state:n,params:o})),this.emit(n,o)},e.prototype.buildTimelineMessage=function(n){return Z({cid:this.id},n)},e}(re),Ae=mn,vt=function(){function t(e){this.hooks=e}return t.prototype.isSupported=function(e){return this.hooks.isSupported(e)},t.prototype.createConnection=function(e,n,o,c){return new Ae(this.hooks,e,n,o,c)},t}(),Oe=vt,jt=new Oe({urls:Ue,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!D.getWebSocketAPI()},isSupported:function(){return!!D.getWebSocketAPI()},getSocket:function(t){return D.createWebSocket(t)}}),Ht={urls:pn,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},We=Z({getSocket:function(t){return D.HTTPFactory.createStreamingSocket(t)}},Ht),fe=Z({getSocket:function(t){return D.HTTPFactory.createPollingSocket(t)}},Ht),gt={isSupported:function(){return D.isXHRSupported()}},Bt=new Oe(Z({},We,gt)),qt=new Oe(Z({},fe,gt)),zt={ws:jt,xhr_streaming:Bt,xhr_polling:qt},Qe=zt,P=new Oe({file:"sockjs",urls:Ut,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:x.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),p={isSupported:function(t){var e=D.isXDRSupported(t.useTLS);return e}},_=new Oe(Z({},We,p)),k=new Oe(Z({},fe,p));Qe.xdr_streaming=_,Qe.xdr_polling=k,Qe.sockjs=P;var j=Qe,$=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ie=function(t){$(e,t);function e(){var n=t.call(this)||this,o=n;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){o.emit("online")},!1),window.addEventListener("offline",function(){o.emit("offline")},!1)),n}return e.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},e}(re),B=new ie,pe=function(){function t(e,n,o){this.manager=e,this.transport=n,this.minPingDelay=o.minPingDelay,this.maxPingDelay=o.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(e,n,o,c){var l=this;c=Z({},c,{activityTimeout:this.pingDelay});var d=this.transport.createConnection(e,n,o,c),w=null,L=function(){d.unbind("open",L),d.bind("closed",O),w=K.now()},O=function(U){if(d.unbind("closed",O),U.code===1002||U.code===1003)l.manager.reportDeath();else if(!U.wasClean&&w){var V=K.now()-w;V<2*l.maxPingDelay&&(l.manager.reportDeath(),l.pingDelay=Math.max(V/2,l.minPingDelay))}};return d.bind("open",L),d},t.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},t}(),_t=pe,bt={decodeMessage:function(t){try{var e=JSON.parse(t.data),n=e.data;if(typeof n=="string")try{n=JSON.parse(e.data)}catch{}var o={event:e.event,channel:e.channel,data:n};return e.user_id&&(o.user_id=e.user_id),o}catch(c){throw{type:"MessageParseError",error:c,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=bt.decodeMessage(t);if(e.event==="pusher:connection_established"){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:e.data.activity_timeout*1e3}}else{if(e.event==="pusher:error")return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"}},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:t.code===4e3?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return t.code!==1e3&&t.code!==1001?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},Fe=bt,ii=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),oi=function(t){ii(e,t);function e(n,o){var c=t.call(this)||this;return c.id=n,c.transport=o,c.activityTimeout=o.activityTimeout,c.bindListeners(),c}return e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(n){return this.transport.send(n)},e.prototype.send_event=function(n,o,c){var l={event:n,data:o};return c&&(l.channel=c),H.debug("Event sent",l),this.send(Fe.encodeMessage(l))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var n=this,o={message:function(l){var d;try{d=Fe.decodeMessage(l)}catch(w){n.emit("error",{type:"MessageParseError",error:w,data:l.data})}if(d!==void 0){switch(H.debug("Event recd",d),d.event){case"pusher:error":n.emit("error",{type:"PusherError",data:d.data});break;case"pusher:ping":n.emit("ping");break;case"pusher:pong":n.emit("pong");break}n.emit("message",d)}},activity:function(){n.emit("activity")},error:function(l){n.emit("error",l)},closed:function(l){c(),l&&l.code&&n.handleCloseEvent(l),n.transport=null,n.emit("closed")}},c=function(){ae(o,function(l,d){n.transport.unbind(d,l)})};ae(o,function(l,d){n.transport.bind(d,l)})},e.prototype.handleCloseEvent=function(n){var o=Fe.getCloseAction(n),c=Fe.getCloseError(n);c&&this.emit("error",c),o&&this.emit(o,{action:o,error:c})},e}(re),si=oi,ai=function(){function t(e,n){this.transport=e,this.callback=n,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var e=this;this.onMessage=function(n){e.unbindListeners();var o;try{o=Fe.processHandshake(n)}catch(c){e.finish("error",{error:c}),e.transport.close();return}o.action==="connected"?e.finish("connected",{connection:new si(o.id,e.transport),activityTimeout:o.activityTimeout}):(e.finish(o.action,{error:o.error}),e.transport.close())},this.onClosed=function(n){e.unbindListeners();var o=Fe.getCloseAction(n)||"backoff",c=Fe.getCloseError(n);e.finish(o,{error:c})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(e,n){this.callback(Z({transport:this.transport,action:e},n))},t}(),ci=ai,ui=function(){function t(e,n){this.timeline=e,this.options=n||{}}return t.prototype.send=function(e,n){this.timeline.isEmpty()||this.timeline.send(D.TimelineTransport.getAgent(this,e),n)},t}(),li=ui,hi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),fi=function(t){hi(e,t);function e(n,o){var c=t.call(this,function(l,d){H.debug("No callbacks on "+n+" for "+l)})||this;return c.name=n,c.pusher=o,c.subscribed=!1,c.subscriptionPending=!1,c.subscriptionCancelled=!1,c}return e.prototype.authorize=function(n,o){return o(null,{auth:""})},e.prototype.trigger=function(n,o){if(n.indexOf("client-")!==0)throw new N("Event '"+n+"' does not start with 'client-'");if(!this.subscribed){var c=S.buildLogSuffix("triggeringClientEvents");H.warn("Client event triggered before channel 'subscription_succeeded' event . "+c)}return this.pusher.send_event(n,o,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(n){var o=n.event,c=n.data;if(o==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(n);else if(o==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(n);else if(o.indexOf("pusher_internal:")!==0){var l={};this.emit(o,c,l)}},e.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",n.data)},e.prototype.handleSubscriptionCountEvent=function(n){n.data.subscription_count&&(this.subscriptionCount=n.data.subscription_count),this.emit("pusher:subscription_count",n.data)},e.prototype.subscribe=function(){var n=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(o,c){o?(n.subscriptionPending=!1,H.error(o.toString()),n.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:o.message},o instanceof X?{status:o.status}:{}))):n.pusher.send_event("pusher:subscribe",{auth:c.auth,channel_data:c.channel_data,channel:n.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(re),yn=fi,pi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),di=function(t){pi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.authorize=function(n,o){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:n},o)},e}(yn),vn=di,mi=function(){function t(){this.reset()}return t.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},t.prototype.each=function(e){var n=this;ae(this.members,function(o,c){e(n.get(c))})},t.prototype.setMyID=function(e){this.myID=e},t.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(e){return this.get(e.user_id)===null&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},t.prototype.removeMember=function(e){var n=this.get(e.user_id);return n&&(delete this.members[e.user_id],this.count--),n},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}(),yi=mi,vi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),gi=function(t,e,n,o){function c(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function w(U){try{O(o.next(U))}catch(V){d(V)}}function L(U){try{O(o.throw(U))}catch(V){d(V)}}function O(U){U.done?l(U.value):c(U.value).then(w,L)}O((o=o.apply(t,e||[])).next())})},_i=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,c,l,d;return d={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function w(O){return function(U){return L([O,U])}}function L(O){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,c&&(l=O[0]&2?c.return:O[0]?c.throw||((l=c.return)&&l.call(c),0):c.next)&&!(l=l.call(c,O[1])).done)return l;switch(c=0,l&&(O=[O[0]&2,l.value]),O[0]){case 0:case 1:l=O;break;case 4:return n.label++,{value:O[1],done:!1};case 5:n.label++,c=O[1],O=[0];continue;case 7:O=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(O[0]===6||O[0]===2)){n=0;continue}if(O[0]===3&&(!l||O[1]>l[0]&&O[1]<l[3])){n.label=O[1];break}if(O[0]===6&&n.label<l[1]){n.label=l[1],l=O;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(O);break}l[2]&&n.ops.pop(),n.trys.pop();continue}O=e.call(t,n)}catch(U){O=[6,U],c=0}finally{o=l=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},bi=function(t){vi(e,t);function e(n,o){var c=t.call(this,n,o)||this;return c.members=new yi,c}return e.prototype.authorize=function(n,o){var c=this;t.prototype.authorize.call(this,n,function(l,d){return gi(c,void 0,void 0,function(){var w,L;return _i(this,function(O){switch(O.label){case 0:return l?[3,3]:(d=d,d.channel_data==null?[3,1]:(w=JSON.parse(d.channel_data),this.members.setMyID(w.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(O.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return L=S.buildLogSuffix("authorizationEndpoint"),H.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+L+", ")+"or the user should be signed in."),o("Invalid auth response"),[2];O.label=3;case 3:return o(l,d),[2]}})})})},e.prototype.handleEvent=function(n){var o=n.event;if(o.indexOf("pusher_internal:")===0)this.handleInternalEvent(n);else{var c=n.data,l={};n.user_id&&(l.user_id=n.user_id),this.emit(o,c,l)}},e.prototype.handleInternalEvent=function(n){var o=n.event,c=n.data;switch(o){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(n);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(n);break;case"pusher_internal:member_added":var l=this.members.addMember(c);this.emit("pusher:member_added",l);break;case"pusher_internal:member_removed":var d=this.members.removeMember(c);d&&this.emit("pusher:member_removed",d);break}},e.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(n.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(vn),wi=bi,Ti=u(1),gn=u(0),Si=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ei=function(t){Si(e,t);function e(n,o,c){var l=t.call(this,n,o)||this;return l.key=null,l.nacl=c,l}return e.prototype.authorize=function(n,o){var c=this;t.prototype.authorize.call(this,n,function(l,d){if(l){o(l,d);return}var w=d.shared_secret;if(!w){o(new Error("No shared_secret key in auth payload for encrypted channel: "+c.name),null);return}c.key=Object(gn.decode)(w),delete d.shared_secret,o(null,d)})},e.prototype.trigger=function(n,o){throw new ye("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(n){var o=n.event,c=n.data;if(o.indexOf("pusher_internal:")===0||o.indexOf("pusher:")===0){t.prototype.handleEvent.call(this,n);return}this.handleEncryptedEvent(o,c)},e.prototype.handleEncryptedEvent=function(n,o){var c=this;if(!this.key){H.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!o.ciphertext||!o.nonce){H.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+o);return}var l=Object(gn.decode)(o.ciphertext);if(l.length<this.nacl.secretbox.overheadLength){H.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+l.length);return}var d=Object(gn.decode)(o.nonce);if(d.length<this.nacl.secretbox.nonceLength){H.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+d.length);return}var w=this.nacl.secretbox.open(l,d,this.key);if(w===null){H.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(L,O){if(L){H.error("Failed to make a request to the authEndpoint: "+O+". Unable to fetch new key, so dropping encrypted event");return}if(w=c.nacl.secretbox.open(l,d,c.key),w===null){H.error("Failed to decrypt event with new key. Dropping encrypted event");return}c.emit(n,c.getDataToEmit(w))});return}this.emit(n,this.getDataToEmit(w))},e.prototype.getDataToEmit=function(n){var o=Object(Ti.decode)(n);try{return JSON.parse(o)}catch{return o}},e}(vn),Ci=Ei,ki=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ai=function(t){ki(e,t);function e(n,o){var c=t.call(this)||this;c.state="initialized",c.connection=null,c.key=n,c.options=o,c.timeline=c.options.timeline,c.usingTLS=c.options.useTLS,c.errorCallbacks=c.buildErrorCallbacks(),c.connectionCallbacks=c.buildConnectionCallbacks(c.errorCallbacks),c.handshakeCallbacks=c.buildHandshakeCallbacks(c.errorCallbacks);var l=D.getNetwork();return l.bind("online",function(){c.timeline.info({netinfo:"online"}),(c.state==="connecting"||c.state==="unavailable")&&c.retryIn(0)}),l.bind("offline",function(){c.timeline.info({netinfo:"offline"}),c.connection&&c.sendActivityCheck()}),c.updateStrategy(),c}return e.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},e.prototype.send=function(n){return this.connection?this.connection.send(n):!1},e.prototype.send_event=function(n,o,c){return this.connection?this.connection.send_event(n,o,c):!1},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var n=this,o=function(c,l){c?n.runner=n.strategy.connect(0,o):l.action==="error"?(n.emit("error",{type:"HandshakeError",error:l.error}),n.timeline.error({handshakeError:l.error})):(n.abortConnecting(),n.handshakeCallbacks[l.action](l))};this.runner=this.strategy.connect(0,o)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var n=this.abandonConnection();n.close()}},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(n){var o=this;this.timeline.info({action:"retry",delay:n}),n>0&&this.emit("connecting_in",Math.round(n/1e3)),this.retryTimer=new ve(n||0,function(){o.disconnectInternally(),o.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var n=this;this.unavailableTimer=new ve(this.options.unavailableTimeout,function(){n.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ve(this.options.pongTimeout,function(){n.timeline.error({pong_timed_out:n.options.pongTimeout}),n.retryIn(0)})},e.prototype.resetActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ve(this.activityTimeout,function(){n.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(n){var o=this;return Z({},n,{message:function(c){o.resetActivityCheck(),o.emit("message",c)},ping:function(){o.send_event("pusher:pong",{})},activity:function(){o.resetActivityCheck()},error:function(c){o.emit("error",c)},closed:function(){o.abandonConnection(),o.shouldRetry()&&o.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(n){var o=this;return Z({},n,{connected:function(c){o.activityTimeout=Math.min(o.options.activityTimeout,c.activityTimeout,c.connection.activityTimeout||1/0),o.clearUnavailableTimer(),o.setConnection(c.connection),o.socket_id=o.connection.id,o.updateState("connected",{socket_id:o.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var n=this,o=function(c){return function(l){l.error&&n.emit("error",{type:"WebSocketError",error:l.error}),c(l)}};return{tls_only:o(function(){n.usingTLS=!0,n.updateStrategy(),n.retryIn(0)}),refused:o(function(){n.disconnect()}),backoff:o(function(){n.retryIn(1e3)}),retry:o(function(){n.retryIn(0)})}},e.prototype.setConnection=function(n){this.connection=n;for(var o in this.connectionCallbacks)this.connection.bind(o,this.connectionCallbacks[o]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var n in this.connectionCallbacks)this.connection.unbind(n,this.connectionCallbacks[n]);var o=this.connection;return this.connection=null,o}},e.prototype.updateState=function(n,o){var c=this.state;if(this.state=n,c!==n){var l=n;l==="connected"&&(l+=" with new socket ID "+o.socket_id),H.debug("State changed",c+" -> "+l),this.timeline.info({state:n,params:o}),this.emit("state_change",{previous:c,current:n}),this.emit(n,o)}},e.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},e}(re),Oi=Ai,Ri=function(){function t(){this.channels={}}return t.prototype.add=function(e,n){return this.channels[e]||(this.channels[e]=xi(e,n)),this.channels[e]},t.prototype.all=function(){return Le(this.channels)},t.prototype.find=function(e){return this.channels[e]},t.prototype.remove=function(e){var n=this.channels[e];return delete this.channels[e],n},t.prototype.disconnect=function(){ae(this.channels,function(e){e.disconnect()})},t}(),Pi=Ri;function xi(t,e){if(t.indexOf("private-encrypted-")===0){if(e.config.nacl)return Re.createEncryptedChannel(t,e,e.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",o=S.buildLogSuffix("encryptedChannelSupport");throw new ye(n+". "+o)}else{if(t.indexOf("private-")===0)return Re.createPrivateChannel(t,e);if(t.indexOf("presence-")===0)return Re.createPresenceChannel(t,e);if(t.indexOf("#")===0)throw new I('Cannot create a channel with name "'+t+'".');return Re.createChannel(t,e)}}var Li={createChannels:function(){return new Pi},createConnectionManager:function(t,e){return new Oi(t,e)},createChannel:function(t,e){return new yn(t,e)},createPrivateChannel:function(t,e){return new vn(t,e)},createPresenceChannel:function(t,e){return new wi(t,e)},createEncryptedChannel:function(t,e,n){return new Ci(t,e,n)},createTimelineSender:function(t,e){return new li(t,e)},createHandshake:function(t,e){return new ci(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new _t(t,e,n)}},Re=Li,Ni=function(){function t(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(e){return Re.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}(),Kn=Ni,Ii=function(){function t(e,n){this.strategies=e,this.loop=!!n.loop,this.failFast=!!n.failFast,this.timeout=n.timeout,this.timeoutLimit=n.timeoutLimit}return t.prototype.isSupported=function(){return Ne(this.strategies,K.method("isSupported"))},t.prototype.connect=function(e,n){var o=this,c=this.strategies,l=0,d=this.timeout,w=null,L=function(O,U){U?n(null,U):(l=l+1,o.loop&&(l=l%c.length),l<c.length?(d&&(d=d*2,o.timeoutLimit&&(d=Math.min(d,o.timeoutLimit))),w=o.tryStrategy(c[l],e,{timeout:d,failFast:o.failFast},L)):n(!0))};return w=this.tryStrategy(c[l],e,{timeout:d,failFast:this.failFast},L),{abort:function(){w.abort()},forceMinPriority:function(O){e=O,w&&w.forceMinPriority(O)}}},t.prototype.tryStrategy=function(e,n,o,c){var l=null,d=null;return o.timeout>0&&(l=new ve(o.timeout,function(){d.abort(),c(!0)})),d=e.connect(n,function(w,L){w&&l&&l.isRunning()&&!o.failFast||(l&&l.ensureAborted(),c(w,L))}),{abort:function(){l&&l.ensureAborted(),d.abort()},forceMinPriority:function(w){d.forceMinPriority(w)}}},t}(),Xe=Ii,Di=function(){function t(e){this.strategies=e}return t.prototype.isSupported=function(){return Ne(this.strategies,K.method("isSupported"))},t.prototype.connect=function(e,n){return Mi(this.strategies,e,function(o,c){return function(l,d){if(c[o].error=l,l){Ui(c)&&n(!0);return}Te(c,function(w){w.forceMinPriority(d.transport.priority)}),n(null,d)}})},t}(),_n=Di;function Mi(t,e,n){var o=qe(t,function(c,l,d,w){return c.connect(e,n(l,w))});return{abort:function(){Te(o,Fi)},forceMinPriority:function(c){Te(o,function(l){l.forceMinPriority(c)})}}}function Ui(t){return Ie(t,function(e){return!!e.error})}function Fi(t){!t.error&&!t.aborted&&(t.abort(),t.aborted=!0)}var ji=function(){function t(e,n,o){this.strategy=e,this.transports=n,this.ttl=o.ttl||1800*1e3,this.usingTLS=o.useTLS,this.timeline=o.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var o=this.usingTLS,c=Bi(o),l=[this.strategy];if(c&&c.timestamp+this.ttl>=K.now()){var d=this.transports[c.transport];d&&(this.timeline.info({cached:!0,transport:c.transport,latency:c.latency}),l.push(new Xe([d],{timeout:c.latency*2+1e3,failFast:!0})))}var w=K.now(),L=l.pop().connect(e,function O(U,V){U?(Qn(o),l.length>0?(w=K.now(),L=l.pop().connect(e,O)):n(U)):(qi(o,V.transport.name,K.now()-w),n(null,V))});return{abort:function(){L.abort()},forceMinPriority:function(O){e=O,L&&L.forceMinPriority(O)}}},t}(),Hi=ji;function bn(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function Bi(t){var e=D.getLocalStorage();if(e)try{var n=e[bn(t)];if(n)return JSON.parse(n)}catch{Qn(t)}return null}function qi(t,e,n){var o=D.getLocalStorage();if(o)try{o[bn(t)]=ze({timestamp:K.now(),transport:e,latency:n})}catch{}}function Qn(t){var e=D.getLocalStorage();if(e)try{delete e[bn(t)]}catch{}}var zi=function(){function t(e,n){var o=n.delay;this.strategy=e,this.options={delay:o}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var o=this.strategy,c,l=new ve(this.options.delay,function(){c=o.connect(e,n)});return{abort:function(){l.ensureAborted(),c&&c.abort()},forceMinPriority:function(d){e=d,c&&c.forceMinPriority(d)}}},t}(),Wt=zi,Wi=function(){function t(e,n,o){this.test=e,this.trueBranch=n,this.falseBranch=o}return t.prototype.isSupported=function(){var e=this.test()?this.trueBranch:this.falseBranch;return e.isSupported()},t.prototype.connect=function(e,n){var o=this.test()?this.trueBranch:this.falseBranch;return o.connect(e,n)},t}(),wt=Wi,Xi=function(){function t(e){this.strategy=e}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var o=this.strategy.connect(e,function(c,l){l&&o.abort(),n(c,l)});return o},t}(),Gi=Xi;function Tt(t){return function(){return t.isSupported()}}var Ji=function(t,e,n){var o={};function c(lr,is,os,ss,as){var hr=n(t,lr,is,os,ss,as);return o[lr]=hr,hr}var l=Object.assign({},e,{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}),d=Object.assign({},l,{useTLS:!0}),w=Object.assign({},e,{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}),L={loop:!0,timeout:15e3,timeoutLimit:6e4},O=new Kn({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),U=new Kn({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),V=c("ws","ws",3,l,O),Se=c("wss","ws",3,d,O),Zo=c("sockjs","sockjs",1,w),ir=c("xhr_streaming","xhr_streaming",1,w,U),es=c("xdr_streaming","xdr_streaming",1,w,U),or=c("xhr_polling","xhr_polling",1,w),ts=c("xdr_polling","xdr_polling",1,w),sr=new Xe([V],L),ns=new Xe([Se],L),rs=new Xe([Zo],L),ar=new Xe([new wt(Tt(ir),ir,es)],L),cr=new Xe([new wt(Tt(or),or,ts)],L),ur=new Xe([new wt(Tt(ar),new _n([ar,new Wt(cr,{delay:4e3})]),cr)],L),En=new wt(Tt(ur),ur,rs),Cn;return e.useTLS?Cn=new _n([sr,new Wt(En,{delay:2e3})]):Cn=new _n([sr,new Wt(ns,{delay:2e3}),new Wt(En,{delay:5e3})]),new Hi(new Gi(new wt(Tt(V),Cn,En)),o,{ttl:18e5,timeline:e.timeline,useTLS:e.useTLS})},$i=Ji,Vi=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),x.load(t.hooks.file,{useTLS:t.options.useTLS},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()},Yi={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new q),t.close()},e.onerror=function(n){t.emit("error",n),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}},Ki=Yi,Qi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zi=256*1024,eo=function(t){Qi(e,t);function e(n,o,c){var l=t.call(this)||this;return l.hooks=n,l.method=o,l.url=c,l}return e.prototype.start=function(n){var o=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){o.close()},D.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(n)},e.prototype.close=function(){this.unloader&&(D.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(n,o){for(;;){var c=this.advanceBuffer(o);if(c)this.emit("chunk",{status:n,data:c});else break}this.isBufferTooLong(o)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(n){var o=n.slice(this.position),c=o.indexOf(`
`);return c!==-1?(this.position+=c+1,o.slice(0,c)):null},e.prototype.isBufferTooLong=function(n){return this.position===n.length&&n.length>Zi},e}(re),to=eo,wn;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"})(wn||(wn={}));var Ge=wn,no=1,ro=function(){function t(e,n){this.hooks=e,this.session=er(1e3)+"/"+co(8),this.location=oo(n),this.readyState=Ge.CONNECTING,this.openStream()}return t.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(e,n){this.onClose(e,n,!0)},t.prototype.sendRaw=function(e){if(this.readyState===Ge.OPEN)try{return D.createSocketRequest("POST",Zn(so(this.location,this.session))).start(e),!0}catch{return!1}else return!1},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(e,n,o){this.closeStream(),this.readyState=Ge.CLOSED,this.onclose&&this.onclose({code:e,reason:n,wasClean:o})},t.prototype.onChunk=function(e){if(e.status===200){this.readyState===Ge.OPEN&&this.onActivity();var n,o=e.data.slice(0,1);switch(o){case"o":n=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(n);break;case"a":n=JSON.parse(e.data.slice(1)||"[]");for(var c=0;c<n.length;c++)this.onEvent(n[c]);break;case"m":n=JSON.parse(e.data.slice(1)||"null"),this.onEvent(n);break;case"h":this.hooks.onHeartbeat(this);break;case"c":n=JSON.parse(e.data.slice(1)||"[]"),this.onClose(n[0],n[1],!0);break}}},t.prototype.onOpen=function(e){this.readyState===Ge.CONNECTING?(e&&e.hostname&&(this.location.base=ao(this.location.base,e.hostname)),this.readyState=Ge.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(e){this.readyState===Ge.OPEN&&this.onmessage&&this.onmessage({data:e})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(e){this.onerror&&this.onerror(e)},t.prototype.openStream=function(){var e=this;this.stream=D.createSocketRequest("POST",Zn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(n){e.onChunk(n)}),this.stream.bind("finished",function(n){e.hooks.onFinished(e,n)}),this.stream.bind("buffer_too_long",function(){e.reconnect()});try{this.stream.start()}catch(n){K.defer(function(){e.onError(n),e.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();function oo(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}function so(t,e){return t.base+"/"+e+"/xhr_send"}function Zn(t){var e=t.indexOf("?")===-1?"?":"&";return t+e+"t="+ +new Date+"&n="+no++}function ao(t,e){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return n[1]+e+n[3]}function er(t){return D.randomInt(t)}function co(t){for(var e=[],n=0;n<t;n++)e.push(er(32).toString(32));return e.join("")}var uo=ro,lo={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},ho=lo,fo={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){e===200?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},po=fo,mo={getRequest:function(t){var e=D.getXHRAPI(),n=new e;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText),t.emit("finished",n.status),t.close();break}},n},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},yo=mo,vo={createStreamingSocket:function(t){return this.createSocket(ho,t)},createPollingSocket:function(t){return this.createSocket(po,t)},createSocket:function(t,e){return new uo(t,e)},createXHR:function(t,e){return this.createRequest(yo,t,e)},createRequest:function(t,e,n){return new to(t,e,n)}},tr=vo;tr.createXDR=function(t,e){return this.createRequest(Ki,t,e)};var go=tr,_o={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:f,DependenciesReceivers:A,getDefaultStrategy:$i,Transports:j,transportConnectionInitializer:Vi,HTTPFactory:go,TimelineTransport:fn,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():x.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:ot,jsonp:Ye}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new pt(t,e)},createScriptRequest:function(t){return new Me(t)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var t=this.getXHRAPI();return new t},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return B},createWebSocket:function(t){var e=this.getWebSocketAPI();return new e(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(e.indexOf("https:")===0))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return!!t&&new t().withCredentials!==void 0},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return!!window.XDomainRequest&&n===e},addUnloadListener:function(t){window.addEventListener!==void 0?window.addEventListener("unload",t,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){window.addEventListener!==void 0?window.removeEventListener("unload",t,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",t)},randomInt:function(t){var e=function(){var n=window.crypto||window.msCrypto,o=n.getRandomValues(new Uint32Array(1))[0];return o/Math.pow(2,32)};return Math.floor(e()*t)}},D=_o,Tn;(function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"})(Tn||(Tn={}));var Xt=Tn,bo=function(){function t(e,n,o){this.key=e,this.session=n,this.events=[],this.options=o||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(e,n){e<=this.options.level&&(this.events.push(Z({},n,{timestamp:K.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(e){this.log(Xt.ERROR,e)},t.prototype.info=function(e){this.log(Xt.INFO,e)},t.prototype.debug=function(e){this.log(Xt.DEBUG,e)},t.prototype.isEmpty=function(){return this.events.length===0},t.prototype.send=function(e,n){var o=this,c=Z({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(c,function(l,d){l||o.sent++,n&&n(l,d)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}(),wo=bo,To=function(){function t(e,n,o,c){this.name=e,this.priority=n,this.transport=o,this.options=c||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(e,n){var o=this;if(this.isSupported()){if(this.priority<e)return nr(new Y,n)}else return nr(new se,n);var c=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),d=null,w=function(){l.unbind("initialized",w),l.connect()},L=function(){d=Re.createHandshake(l,function(Se){c=!0,V(),n(null,Se)})},O=function(Se){V(),n(Se)},U=function(){V();var Se;Se=ze(l),n(new oe(Se))},V=function(){l.unbind("initialized",w),l.unbind("open",L),l.unbind("error",O),l.unbind("closed",U)};return l.bind("initialized",w),l.bind("open",L),l.bind("error",O),l.bind("closed",U),l.initialize(),{abort:function(){c||(V(),d?d.close():l.close())},forceMinPriority:function(Se){c||o.priority<Se&&(d?d.close():l.close())}}},t}(),So=To;function nr(t,e){return K.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var Eo=D.Transports,Co=function(t,e,n,o,c,l){var d=Eo[n];if(!d)throw new he(n);var w=(!t.enabledTransports||we(t.enabledTransports,e)!==-1)&&(!t.disabledTransports||we(t.disabledTransports,e)===-1),L;return w?(c=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},c),L=new So(e,o,l?l.getAssistant(d):d,c)):L=ko,L},ko={isSupported:function(){return!1},connect:function(t,e){var n=K.defer(function(){e(new se)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function Ao(t){if(t==null)throw"You must pass an options object";if(t.cluster==null)throw"Options object must provide a cluster";"disableStats"in t&&H.warn("The disableStats option is deprecated in favor of enableStats")}var Oo=function(t,e){var n="socket_id="+encodeURIComponent(t.socketId);for(var o in e.params)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e.params[o]);if(e.paramsProvider!=null){var c=e.paramsProvider();for(var o in c)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(c[o])}return n},Ro=function(t){if(typeof D.getAuthorizers()[t.transport]>"u")throw"'"+t.transport+"' is not a recognized auth transport";return function(e,n){var o=Oo(e,t);D.getAuthorizers()[t.transport](D,o,t,g.UserAuthentication,n)}},Po=Ro,xo=function(t,e){var n="socket_id="+encodeURIComponent(t.socketId);n+="&channel_name="+encodeURIComponent(t.channelName);for(var o in e.params)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e.params[o]);if(e.paramsProvider!=null){var c=e.paramsProvider();for(var o in c)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(c[o])}return n},Lo=function(t){if(typeof D.getAuthorizers()[t.transport]>"u")throw"'"+t.transport+"' is not a recognized auth transport";return function(e,n){var o=xo(e,t);D.getAuthorizers()[t.transport](D,o,t,g.ChannelAuthorization,n)}},No=Lo,Io=function(t,e,n){var o={authTransport:e.transport,authEndpoint:e.endpoint,auth:{params:e.params,headers:e.headers}};return function(c,l){var d=t.channel(c.channelName),w=n(d,o);w.authorize(c.socketId,l)}},Ze=function(){return Ze=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c])}return t},Ze.apply(this,arguments)};function Do(t,e){var n={activityTimeout:t.activityTimeout||b.activityTimeout,cluster:t.cluster,httpPath:t.httpPath||b.httpPath,httpPort:t.httpPort||b.httpPort,httpsPort:t.httpsPort||b.httpsPort,pongTimeout:t.pongTimeout||b.pongTimeout,statsHost:t.statsHost||b.stats_host,unavailableTimeout:t.unavailableTimeout||b.unavailableTimeout,wsPath:t.wsPath||b.wsPath,wsPort:t.wsPort||b.wsPort,wssPort:t.wssPort||b.wssPort,enableStats:Ho(t),httpHost:Mo(t),useTLS:jo(t),wsHost:Uo(t),userAuthenticator:Bo(t),channelAuthorizer:zo(t,e)};return"disabledTransports"in t&&(n.disabledTransports=t.disabledTransports),"enabledTransports"in t&&(n.enabledTransports=t.enabledTransports),"ignoreNullOrigin"in t&&(n.ignoreNullOrigin=t.ignoreNullOrigin),"timelineParams"in t&&(n.timelineParams=t.timelineParams),"nacl"in t&&(n.nacl=t.nacl),n}function Mo(t){return t.httpHost?t.httpHost:t.cluster?"sockjs-"+t.cluster+".pusher.com":b.httpHost}function Uo(t){return t.wsHost?t.wsHost:Fo(t.cluster)}function Fo(t){return"ws-"+t+".pusher.com"}function jo(t){return D.getProtocol()==="https:"?!0:t.forceTLS!==!1}function Ho(t){return"enableStats"in t?t.enableStats:"disableStats"in t?!t.disableStats:!1}function Bo(t){var e=Ze(Ze({},b.userAuthentication),t.userAuthentication);return"customHandler"in e&&e.customHandler!=null?e.customHandler:Po(e)}function qo(t,e){var n;return"channelAuthorization"in t?n=Ze(Ze({},b.channelAuthorization),t.channelAuthorization):(n={transport:t.authTransport||b.authTransport,endpoint:t.authEndpoint||b.authEndpoint},"auth"in t&&("params"in t.auth&&(n.params=t.auth.params),"headers"in t.auth&&(n.headers=t.auth.headers)),"authorizer"in t&&(n.customHandler=Io(e,n,t.authorizer))),n}function zo(t,e){var n=qo(t,e);return"customHandler"in n&&n.customHandler!=null?n.customHandler:No(n)}var Wo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xo=function(t){Wo(e,t);function e(n){var o=t.call(this,function(c,l){H.debug("No callbacks on watchlist events for "+c)})||this;return o.pusher=n,o.bindWatchlistInternalEvent(),o}return e.prototype.handleEvent=function(n){var o=this;n.data.events.forEach(function(c){o.emit(c.name,c)})},e.prototype.bindWatchlistInternalEvent=function(){var n=this;this.pusher.connection.bind("message",function(o){var c=o.event;c==="pusher_internal:watchlist_events"&&n.handleEvent(o)})},e}(re),Go=Xo;function Jo(){var t,e,n=new Promise(function(o,c){t=o,e=c});return{promise:n,resolve:t,reject:e}}var $o=Jo,Vo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yo=function(t){Vo(e,t);function e(n){var o=t.call(this,function(c,l){H.debug("No callbacks on user for "+c)})||this;return o.signin_requested=!1,o.user_data=null,o.serverToUserChannel=null,o.signinDonePromise=null,o._signinDoneResolve=null,o._onAuthorize=function(c,l){if(c){H.warn("Error during signin: "+c),o._cleanup();return}o.pusher.send_event("pusher:signin",{auth:l.auth,user_data:l.user_data})},o.pusher=n,o.pusher.connection.bind("state_change",function(c){var l=c.previous,d=c.current;l!=="connected"&&d==="connected"&&o._signin(),l==="connected"&&d!=="connected"&&(o._cleanup(),o._newSigninPromiseIfNeeded())}),o.watchlist=new Go(n),o.pusher.connection.bind("message",function(c){var l=c.event;l==="pusher:signin_success"&&o._onSigninSuccess(c.data),o.serverToUserChannel&&o.serverToUserChannel.name===c.channel&&o.serverToUserChannel.handleEvent(c)}),o}return e.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},e.prototype._signin=function(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},e.prototype._onSigninSuccess=function(n){try{this.user_data=JSON.parse(n.user_data)}catch{H.error("Failed parsing user data after signin: "+n.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){H.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},e.prototype._subscribeChannels=function(){var n=this,o=function(c){c.subscriptionPending&&c.subscriptionCancelled?c.reinstateSubscription():!c.subscriptionPending&&n.pusher.connection.state==="connected"&&c.subscribe()};this.serverToUserChannel=new yn("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(c,l){c.indexOf("pusher_internal:")===0||c.indexOf("pusher:")===0||n.emit(c,l)}),o(this.serverToUserChannel)},e.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},e.prototype._newSigninPromiseIfNeeded=function(){if(this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var n=$o(),o=n.promise,c=n.resolve;o.done=!1;var l=function(){o.done=!0};o.then(l).catch(l),this.signinDonePromise=o,this._signinDoneResolve=c}},e}(re),Ko=Yo,rr=function(){function t(e,n){var o=this;Qo(e),Ao(n),this.key=e,this.config=Do(n,this),this.channels=Re.createChannels(),this.global_emitter=new re,this.sessionID=D.randomInt(1e9),this.timeline=new wo(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Xt.INFO,version:b.VERSION}),this.config.enableStats&&(this.timelineSender=Re.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+D.TimelineTransport.name}));var c=function(l){return D.getDefaultStrategy(o.config,l,Co)};this.connection=Re.createConnectionManager(this.key,{getStrategy:c,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",function(){o.subscribeAll(),o.timelineSender&&o.timelineSender.send(o.connection.isUsingTLS())}),this.connection.bind("message",function(l){var d=l.event,w=d.indexOf("pusher_internal:")===0;if(l.channel){var L=o.channel(l.channel);L&&L.handleEvent(l)}w||o.global_emitter.emit(l.event,l.data)}),this.connection.bind("connecting",function(){o.channels.disconnect()}),this.connection.bind("disconnected",function(){o.channels.disconnect()}),this.connection.bind("error",function(l){H.warn(l)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),this.user=new Ko(this),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.getClientFeatures=function(){return $e(It({ws:D.Transports.ws},function(e){return e.isSupported({})}))},t.prototype.channel=function(e){return this.channels.find(e)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),n=this.timelineSender;this.timelineSenderTimer=new Lt(6e4,function(){n.send(e)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(e,n,o){return this.global_emitter.bind(e,n,o),this},t.prototype.unbind=function(e,n,o){return this.global_emitter.unbind(e,n,o),this},t.prototype.bind_global=function(e){return this.global_emitter.bind_global(e),this},t.prototype.unbind_global=function(e){return this.global_emitter.unbind_global(e),this},t.prototype.unbind_all=function(e){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},t.prototype.subscribe=function(e){var n=this.channels.add(e,this);return n.subscriptionPending&&n.subscriptionCancelled?n.reinstateSubscription():!n.subscriptionPending&&this.connection.state==="connected"&&n.subscribe(),n},t.prototype.unsubscribe=function(e){var n=this.channels.find(e);n&&n.subscriptionPending?n.cancelSubscription():(n=this.channels.remove(e),n&&n.subscribed&&n.unsubscribe())},t.prototype.send_event=function(e,n,o){return this.connection.send_event(e,n,o)},t.prototype.shouldUseTLS=function(){return this.config.useTLS},t.prototype.signin=function(){this.user.signin()},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=D,t.ScriptReceivers=D.ScriptReceivers,t.DependenciesReceivers=D.DependenciesReceivers,t.auth_callbacks=D.auth_callbacks,t}(),Sn=a.default=rr;function Qo(t){if(t==null)throw"You must pass your app key when you instantiate Pusher."}D.setup(rr)}])})})(Zr);var Fa=Zr.exports;const ja=Ua(Fa);window.axios=Ea;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Pusher=ja;window.Echo=new Ma({broadcaster:"pusher",key:"deac18a0ec705f7b02b4",cluster:"ap2",wsHost:"ws-ap2.pusher.com",wsPort:"443",wssPort:"443",forceTLS:!0,enabledTransports:["ws","wss"]});/*! @license DOMPurify 3.0.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.3/LICENSE */const{entries:ei,setPrototypeOf:Er,isFrozen:Ha,getPrototypeOf:Ba,getOwnPropertyDescriptor:qa}=Object;let{freeze:ne,seal:be,create:za}=Object,{apply:qn,construct:zn}=typeof Reflect<"u"&&Reflect;qn||(qn=function(r,s,a){return r.apply(s,a)});ne||(ne=function(r){return r});be||(be=function(r){return r});zn||(zn=function(r,s){return new r(...s)});const Wa=me(Array.prototype.forEach),Cr=me(Array.prototype.pop),Et=me(Array.prototype.push),Qt=me(String.prototype.toLowerCase),Pn=me(String.prototype.toString),Xa=me(String.prototype.match),_e=me(String.prototype.replace),Ga=me(String.prototype.indexOf),Ja=me(String.prototype.trim),ce=me(RegExp.prototype.test),Ct=$a(TypeError);function me(i){return function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return qn(i,r,a)}}function $a(i){return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return zn(i,s)}}function M(i,r,s){var a;s=(a=s)!==null&&a!==void 0?a:Qt,Er&&Er(i,null);let u=r.length;for(;u--;){let h=r[u];if(typeof h=="string"){const f=s(h);f!==h&&(Ha(r)||(r[u]=f),h=f)}i[h]=!0}return i}function et(i){const r=za(null);for(const[s,a]of ei(i))r[s]=a;return r}function Gt(i,r){for(;i!==null;){const a=qa(i,r);if(a){if(a.get)return me(a.get);if(typeof a.value=="function")return me(a.value)}i=Ba(i)}function s(a){return console.warn("fallback value for",a),null}return s}const kr=ne(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xn=ne(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ln=ne(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Va=ne(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Nn=ne(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ya=ne(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ar=ne(["#text"]),Or=ne(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),In=ne(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rr=ne(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jt=ne(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ka=be(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Qa=be(/<%[\w\W]*|[\w\W]*%>/gm),Za=be(/\${[\w\W]*}/gm),ec=be(/^data-[\-\w.\u00B7-\uFFFF]/),tc=be(/^aria-[\-\w]+$/),ti=be(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nc=be(/^(?:\w+script|data):/i),rc=be(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ni=be(/^html$/i);var Pr=Object.freeze({__proto__:null,MUSTACHE_EXPR:Ka,ERB_EXPR:Qa,TMPLIT_EXPR:Za,DATA_ATTR:ec,ARIA_ATTR:tc,IS_ALLOWED_URI:ti,IS_SCRIPT_OR_DATA:nc,ATTR_WHITESPACE:rc,DOCTYPE_NAME:ni});const ic=()=>typeof window>"u"?null:window,oc=function(r,s){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let a=null;const u="data-tt-policy-suffix";s&&s.hasAttribute(u)&&(a=s.getAttribute(u));const h="dompurify"+(a?"#"+a:"");try{return r.createPolicy(h,{createHTML(f){return f},createScriptURL(f){return f}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function ri(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ic();const r=P=>ri(P);if(r.version="3.0.3",r.removed=[],!i||!i.document||i.document.nodeType!==9)return r.isSupported=!1,r;const s=i.document,a=s.currentScript;let{document:u}=i;const{DocumentFragment:h,HTMLTemplateElement:f,Node:y,Element:b,NodeFilter:v,NamedNodeMap:C=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:A,DOMParser:x,trustedTypes:R}=i,E=b.prototype,S=Gt(E,"cloneNode"),g=Gt(E,"nextSibling"),T=Gt(E,"childNodes"),N=Gt(E,"parentNode");if(typeof f=="function"){const P=u.createElement("template");P.content&&P.content.ownerDocument&&(u=P.content.ownerDocument)}let I,q="";const{implementation:Y,createNodeIterator:oe,createDocumentFragment:ye,getElementsByTagName:he}=u,{importNode:se}=s;let X={};r.isSupported=typeof ei=="function"&&typeof N=="function"&&Y&&Y.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:it,ERB_EXPR:ot,TMPLIT_EXPR:st,DATA_ATTR:He,ARIA_ATTR:Je,IS_SCRIPT_OR_DATA:ln,ATTR_WHITESPACE:Rt}=Pr;let{IS_ALLOWED_URI:Pt}=Pr,J=null;const xt=M({},[...kr,...xn,...Ln,...Nn,...Ar]);let G=null;const at=M({},[...Or,...In,...Rr,...Jt]);let z=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Be=null,ve=null,Lt=!0,ct=!0,K=!1,Z=!0,xe=!1,we=!1,ae=!1,$e=!1,Le=!1,Te=!1,qe=!1,Nt=!0,ut=!1;const It="user-content-";let lt=!0,Ne=!1,Ie={},De=null;const Dt=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Mt=null;const ze=M({},["audio","video","img","source","image","track"]);let ht=null;const H=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ve="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let Me=ge,ft=!1,pt=null;const hn=M({},[Ve,Ye,ge],Pn);let ke;const fn=["application/xhtml+xml","text/html"],dt="text/html";let W,Ue=null;const pn=u.createElement("form"),Ut=function(p){return p instanceof RegExp||p instanceof Function},mt=function(p){if(!(Ue&&Ue===p)){if((!p||typeof p!="object")&&(p={}),p=et(p),ke=fn.indexOf(p.PARSER_MEDIA_TYPE)===-1?ke=dt:ke=p.PARSER_MEDIA_TYPE,W=ke==="application/xhtml+xml"?Pn:Qt,J="ALLOWED_TAGS"in p?M({},p.ALLOWED_TAGS,W):xt,G="ALLOWED_ATTR"in p?M({},p.ALLOWED_ATTR,W):at,pt="ALLOWED_NAMESPACES"in p?M({},p.ALLOWED_NAMESPACES,Pn):hn,ht="ADD_URI_SAFE_ATTR"in p?M(et(H),p.ADD_URI_SAFE_ATTR,W):H,Mt="ADD_DATA_URI_TAGS"in p?M(et(ze),p.ADD_DATA_URI_TAGS,W):ze,De="FORBID_CONTENTS"in p?M({},p.FORBID_CONTENTS,W):Dt,Be="FORBID_TAGS"in p?M({},p.FORBID_TAGS,W):{},ve="FORBID_ATTR"in p?M({},p.FORBID_ATTR,W):{},Ie="USE_PROFILES"in p?p.USE_PROFILES:!1,Lt=p.ALLOW_ARIA_ATTR!==!1,ct=p.ALLOW_DATA_ATTR!==!1,K=p.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=p.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xe=p.SAFE_FOR_TEMPLATES||!1,we=p.WHOLE_DOCUMENT||!1,Le=p.RETURN_DOM||!1,Te=p.RETURN_DOM_FRAGMENT||!1,qe=p.RETURN_TRUSTED_TYPE||!1,$e=p.FORCE_BODY||!1,Nt=p.SANITIZE_DOM!==!1,ut=p.SANITIZE_NAMED_PROPS||!1,lt=p.KEEP_CONTENT!==!1,Ne=p.IN_PLACE||!1,Pt=p.ALLOWED_URI_REGEXP||ti,Me=p.NAMESPACE||ge,z=p.CUSTOM_ELEMENT_HANDLING||{},p.CUSTOM_ELEMENT_HANDLING&&Ut(p.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=p.CUSTOM_ELEMENT_HANDLING.tagNameCheck),p.CUSTOM_ELEMENT_HANDLING&&Ut(p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),p.CUSTOM_ELEMENT_HANDLING&&typeof p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(z.allowCustomizedBuiltInElements=p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xe&&(ct=!1),Te&&(Le=!0),Ie&&(J=M({},[...Ar]),G=[],Ie.html===!0&&(M(J,kr),M(G,Or)),Ie.svg===!0&&(M(J,xn),M(G,In),M(G,Jt)),Ie.svgFilters===!0&&(M(J,Ln),M(G,In),M(G,Jt)),Ie.mathMl===!0&&(M(J,Nn),M(G,Rr),M(G,Jt))),p.ADD_TAGS&&(J===xt&&(J=et(J)),M(J,p.ADD_TAGS,W)),p.ADD_ATTR&&(G===at&&(G=et(G)),M(G,p.ADD_ATTR,W)),p.ADD_URI_SAFE_ATTR&&M(ht,p.ADD_URI_SAFE_ATTR,W),p.FORBID_CONTENTS&&(De===Dt&&(De=et(De)),M(De,p.FORBID_CONTENTS,W)),lt&&(J["#text"]=!0),we&&M(J,["html","head","body"]),J.table&&(M(J,["tbody"]),delete Be.tbody),p.TRUSTED_TYPES_POLICY){if(typeof p.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ct('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof p.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ct('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=p.TRUSTED_TYPES_POLICY,q=I.createHTML("")}else I===void 0&&(I=oc(R,a)),I!==null&&typeof q=="string"&&(q=I.createHTML(""));ne&&ne(p),Ue=p}},Ft=M({},["mi","mo","mn","ms","mtext"]),Ke=M({},["foreignobject","desc","title","annotation-xml"]),dn=M({},["title","style","font","a","script"]),re=M({},xn);M(re,Ln),M(re,Va);const yt=M({},Nn);M(yt,Ya);const mn=function(p){let _=N(p);(!_||!_.tagName)&&(_={namespaceURI:Me,tagName:"template"});const k=Qt(p.tagName),j=Qt(_.tagName);return pt[p.namespaceURI]?p.namespaceURI===Ye?_.namespaceURI===ge?k==="svg":_.namespaceURI===Ve?k==="svg"&&(j==="annotation-xml"||Ft[j]):!!re[k]:p.namespaceURI===Ve?_.namespaceURI===ge?k==="math":_.namespaceURI===Ye?k==="math"&&Ke[j]:!!yt[k]:p.namespaceURI===ge?_.namespaceURI===Ye&&!Ke[j]||_.namespaceURI===Ve&&!Ft[j]?!1:!yt[k]&&(dn[k]||!re[k]):!!(ke==="application/xhtml+xml"&&pt[p.namespaceURI]):!1},Ae=function(p){Et(r.removed,{element:p});try{p.parentNode.removeChild(p)}catch{p.remove()}},vt=function(p,_){try{Et(r.removed,{attribute:_.getAttributeNode(p),from:_})}catch{Et(r.removed,{attribute:null,from:_})}if(_.removeAttribute(p),p==="is"&&!G[p])if(Le||Te)try{Ae(_)}catch{}else try{_.setAttribute(p,"")}catch{}},Oe=function(p){let _,k;if($e)p="<remove></remove>"+p;else{const ie=Xa(p,/^[\r\n\t ]+/);k=ie&&ie[0]}ke==="application/xhtml+xml"&&Me===ge&&(p='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+p+"</body></html>");const j=I?I.createHTML(p):p;if(Me===ge)try{_=new x().parseFromString(j,ke)}catch{}if(!_||!_.documentElement){_=Y.createDocument(Me,"template",null);try{_.documentElement.innerHTML=ft?q:j}catch{}}const $=_.body||_.documentElement;return p&&k&&$.insertBefore(u.createTextNode(k),$.childNodes[0]||null),Me===ge?he.call(_,we?"html":"body")[0]:we?_.documentElement:$},jt=function(p){return oe.call(p.ownerDocument||p,p,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},Ht=function(p){return p instanceof A&&(typeof p.nodeName!="string"||typeof p.textContent!="string"||typeof p.removeChild!="function"||!(p.attributes instanceof C)||typeof p.removeAttribute!="function"||typeof p.setAttribute!="function"||typeof p.namespaceURI!="string"||typeof p.insertBefore!="function"||typeof p.hasChildNodes!="function")},We=function(p){return typeof y=="object"?p instanceof y:p&&typeof p=="object"&&typeof p.nodeType=="number"&&typeof p.nodeName=="string"},fe=function(p,_,k){X[p]&&Wa(X[p],j=>{j.call(r,_,k,Ue)})},gt=function(p){let _;if(fe("beforeSanitizeElements",p,null),Ht(p))return Ae(p),!0;const k=W(p.nodeName);if(fe("uponSanitizeElement",p,{tagName:k,allowedTags:J}),p.hasChildNodes()&&!We(p.firstElementChild)&&(!We(p.content)||!We(p.content.firstElementChild))&&ce(/<[/\w]/g,p.innerHTML)&&ce(/<[/\w]/g,p.textContent))return Ae(p),!0;if(!J[k]||Be[k]){if(!Be[k]&&qt(k)&&(z.tagNameCheck instanceof RegExp&&ce(z.tagNameCheck,k)||z.tagNameCheck instanceof Function&&z.tagNameCheck(k)))return!1;if(lt&&!De[k]){const j=N(p)||p.parentNode,$=T(p)||p.childNodes;if($&&j){const ie=$.length;for(let B=ie-1;B>=0;--B)j.insertBefore(S($[B],!0),g(p))}}return Ae(p),!0}return p instanceof b&&!mn(p)||(k==="noscript"||k==="noembed")&&ce(/<\/no(script|embed)/i,p.innerHTML)?(Ae(p),!0):(xe&&p.nodeType===3&&(_=p.textContent,_=_e(_,it," "),_=_e(_,ot," "),_=_e(_,st," "),p.textContent!==_&&(Et(r.removed,{element:p.cloneNode()}),p.textContent=_)),fe("afterSanitizeElements",p,null),!1)},Bt=function(p,_,k){if(Nt&&(_==="id"||_==="name")&&(k in u||k in pn))return!1;if(!(ct&&!ve[_]&&ce(He,_))){if(!(Lt&&ce(Je,_))){if(!G[_]||ve[_]){if(!(qt(p)&&(z.tagNameCheck instanceof RegExp&&ce(z.tagNameCheck,p)||z.tagNameCheck instanceof Function&&z.tagNameCheck(p))&&(z.attributeNameCheck instanceof RegExp&&ce(z.attributeNameCheck,_)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(_))||_==="is"&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&ce(z.tagNameCheck,k)||z.tagNameCheck instanceof Function&&z.tagNameCheck(k))))return!1}else if(!ht[_]){if(!ce(Pt,_e(k,Rt,""))){if(!((_==="src"||_==="xlink:href"||_==="href")&&p!=="script"&&Ga(k,"data:")===0&&Mt[p])){if(!(K&&!ce(ln,_e(k,Rt,"")))){if(k)return!1}}}}}}return!0},qt=function(p){return p.indexOf("-")>0},zt=function(p){let _,k,j,$;fe("beforeSanitizeAttributes",p,null);const{attributes:ie}=p;if(!ie)return;const B={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G};for($=ie.length;$--;){_=ie[$];const{name:pe,namespaceURI:_t}=_;if(k=pe==="value"?_.value:Ja(_.value),j=W(pe),B.attrName=j,B.attrValue=k,B.keepAttr=!0,B.forceKeepAttr=void 0,fe("uponSanitizeAttribute",p,B),k=B.attrValue,B.forceKeepAttr||(vt(pe,p),!B.keepAttr))continue;if(!Z&&ce(/\/>/i,k)){vt(pe,p);continue}xe&&(k=_e(k,it," "),k=_e(k,ot," "),k=_e(k,st," "));const bt=W(p.nodeName);if(Bt(bt,j,k)){if(ut&&(j==="id"||j==="name")&&(vt(pe,p),k=It+k),I&&typeof R=="object"&&typeof R.getAttributeType=="function"&&!_t)switch(R.getAttributeType(bt,j)){case"TrustedHTML":{k=I.createHTML(k);break}case"TrustedScriptURL":{k=I.createScriptURL(k);break}}try{_t?p.setAttributeNS(_t,pe,k):p.setAttribute(pe,k),Cr(r.removed)}catch{}}}fe("afterSanitizeAttributes",p,null)},Qe=function P(p){let _;const k=jt(p);for(fe("beforeSanitizeShadowDOM",p,null);_=k.nextNode();)fe("uponSanitizeShadowNode",_,null),!gt(_)&&(_.content instanceof h&&P(_.content),zt(_));fe("afterSanitizeShadowDOM",p,null)};return r.sanitize=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_,k,j,$;if(ft=!P,ft&&(P="<!-->"),typeof P!="string"&&!We(P))if(typeof P.toString=="function"){if(P=P.toString(),typeof P!="string")throw Ct("dirty is not a string, aborting")}else throw Ct("toString is not a function");if(!r.isSupported)return P;if(ae||mt(p),r.removed=[],typeof P=="string"&&(Ne=!1),Ne){if(P.nodeName){const pe=W(P.nodeName);if(!J[pe]||Be[pe])throw Ct("root node is forbidden and cannot be sanitized in-place")}}else if(P instanceof y)_=Oe("<!---->"),k=_.ownerDocument.importNode(P,!0),k.nodeType===1&&k.nodeName==="BODY"||k.nodeName==="HTML"?_=k:_.appendChild(k);else{if(!Le&&!xe&&!we&&P.indexOf("<")===-1)return I&&qe?I.createHTML(P):P;if(_=Oe(P),!_)return Le?null:qe?q:""}_&&$e&&Ae(_.firstChild);const ie=jt(Ne?P:_);for(;j=ie.nextNode();)gt(j)||(j.content instanceof h&&Qe(j.content),zt(j));if(Ne)return P;if(Le){if(Te)for($=ye.call(_.ownerDocument);_.firstChild;)$.appendChild(_.firstChild);else $=_;return(G.shadowroot||G.shadowrootmod)&&($=se.call(s,$,!0)),$}let B=we?_.outerHTML:_.innerHTML;return we&&J["!doctype"]&&_.ownerDocument&&_.ownerDocument.doctype&&_.ownerDocument.doctype.name&&ce(ni,_.ownerDocument.doctype.name)&&(B="<!DOCTYPE "+_.ownerDocument.doctype.name+`>
`+B),xe&&(B=_e(B,it," "),B=_e(B,ot," "),B=_e(B,st," ")),I&&qe?I.createHTML(B):B},r.setConfig=function(P){mt(P),ae=!0},r.clearConfig=function(){Ue=null,ae=!1},r.isValidAttribute=function(P,p,_){Ue||mt({});const k=W(P),j=W(p);return Bt(k,j,_)},r.addHook=function(P,p){typeof p=="function"&&(X[P]=X[P]||[],Et(X[P],p))},r.removeHook=function(P){if(X[P])return Cr(X[P])},r.removeHooks=function(P){X[P]&&(X[P]=[])},r.removeAllHooks=function(){X={}},r}var tt=ri();class sc{constructor(){this.injectHTML(),this.headerSearchIcon=document.querySelector(".header-search-icon"),this.overlay=document.querySelector(".search-overlay"),this.closeIcon=document.querySelector(".close-live-search"),this.inputField=document.querySelector("#live-search-field"),this.resultsArea=document.querySelector(".live-search-results"),this.loaderIcon=document.querySelector(".circle-loader"),this.typingWaitTimer,this.previousValue="",this.events()}events(){this.inputField.addEventListener("keyup",()=>this.keyPressHandler()),this.closeIcon.addEventListener("click",()=>this.closeOverlay()),this.headerSearchIcon.addEventListener("click",r=>{r.preventDefault(),this.openOverlay()}),document.addEventListener("keydown",r=>{r.key.toUpperCase()=="S"&&!this.overlay.classList.contains("search-overlay--visible")&&document.activeElement.nodeName!="INPUT"&&document.activeElement.nodeName!="TEXTAREA"&&this.openOverlay(),r.key=="Escape"&&this.overlay.classList.contains("search-overlay--visible")&&this.closeOverlay()})}keyPressHandler(){let r=this.inputField.value;r==""&&(clearTimeout(this.typingWaitTimer),this.hideLoaderIcon(),this.hideResultsArea()),r!=""&&r!=this.previousValue&&(clearTimeout(this.typingWaitTimer),this.showLoaderIcon(),this.hideResultsArea(),this.typingWaitTimer=setTimeout(()=>this.sendRequest(),750)),this.previousValue=r}async sendRequest(){const r=await axios(`/search/${this.inputField.value}`);this.renderResultsHTML(r.data)}renderResultsHTML(r){r.length?this.resultsArea.innerHTML=tt.sanitize(`<div class="list-group shadow-sm">
      <div class="list-group-item active"><strong>Search Results</strong> (${r.length>1?`${r.length} items found`:"1 item found"})</div>
      ${r.map(s=>{let a=new Date(s.created_at);return`<a href="/post/${s.id}" class="list-group-item list-group-item-action">
        <img class="avatar-tiny" src="${s.user.avatar}"> <strong>${s.title}</strong>
        <span class="text-muted small">by ${s.user.username} on ${a.getMonth()+1}/${a.getDate()}/${a.getFullYear()}</span>
      </a>`}).join("")}
    </div>`):this.resultsArea.innerHTML='<p class="alert alert-danger text-center shadow-sm">Sorry, we could not find any results for that search.</p>',this.hideLoaderIcon(),this.showResultsArea()}showLoaderIcon(){this.loaderIcon.classList.add("circle-loader--visible")}hideLoaderIcon(){this.loaderIcon.classList.remove("circle-loader--visible")}showResultsArea(){this.resultsArea.classList.add("live-search-results--visible")}hideResultsArea(){this.resultsArea.classList.remove("live-search-results--visible")}openOverlay(){this.overlay.classList.add("search-overlay--visible"),setTimeout(()=>this.inputField.focus(),50)}closeOverlay(){this.overlay.classList.remove("search-overlay--visible")}injectHTML(){document.body.insertAdjacentHTML("beforeend",`<div class="search-overlay">
    <div class="search-overlay-top shadow-sm">
      <div class="container container--narrow">
        <label for="live-search-field" class="search-overlay-icon"><i class="fas fa-search"></i></label>
        <input autocomplete="off" type="text" id="live-search-field" class="live-search-field" placeholder="What are you interested in?">
        <span class="close-live-search"><i class="fas fa-times-circle"></i></span>
      </div>
    </div>

    <div class="search-overlay-bottom">
      <div class="container container--narrow py-3">
        <div class="circle-loader"></div>
        <div class="live-search-results"></div>
      </div>
    </div>
  </div>`)}}class ac{constructor(){this.openedYet=!1,this.chatWrapper=document.querySelector("#chat-wrapper"),this.avatar=document.querySelector("#chat-wrapper").dataset.avatar,this.openIcon=document.querySelector(".header-chat-icon"),this.injectHTML(),this.chatLog=document.querySelector("#chat"),this.chatField=document.querySelector("#chatField"),this.chatForm=document.querySelector("#chatForm"),this.closeIcon=document.querySelector(".chat-title-bar-close"),this.events()}events(){this.chatForm.addEventListener("submit",r=>{r.preventDefault(),this.sendMessageToServer()}),this.openIcon.addEventListener("click",()=>this.showChat()),this.closeIcon.addEventListener("click",()=>this.hideChat())}sendMessageToServer(){const r=document.createElement("div");r.innerHTML=tt.sanitize(this.chatField.value),axios.post("/send-chat-message",{textvalue:this.chatField.value}),this.chatLog.insertAdjacentHTML("beforeend",tt.sanitize(`
    <div class="chat-self">
        <div class="chat-message">
          <div class="chat-message-inner">
            ${r.textContent}
          </div>
        </div>
        <img class="chat-avatar avatar-tiny" src="${this.avatar}">
      </div>
    `)),this.chatLog.scrollTop=this.chatLog.scrollHeight,this.chatField.value="",this.chatField.focus()}hideChat(){this.chatWrapper.classList.remove("chat--visible")}showChat(){this.openedYet||this.openConnection(),this.openedYet=!0,this.chatWrapper.classList.add("chat--visible"),this.chatField.focus()}openConnection(){Echo.private("chatchannel").listen("ChatMessage",r=>{this.displayMessageFromServer(r.chat)})}displayMessageFromServer(r){this.chatLog.insertAdjacentHTML("beforeend",tt.sanitize(`
    <div class="chat-other">
        <a href="/profile/${r.username}"><img class="avatar-tiny" src="${r.avatar}"></a>
        <div class="chat-message"><div class="chat-message-inner">
          <a href="/profile/${r.username}"><strong>${r.username}:</strong></a>
          ${r.textvalue}
        </div></div>
      </div>
    `)),this.chatLog.scrollTop=this.chatLog.scrollHeight}injectHTML(){this.chatWrapper.classList.add("chat-wrapper--ready"),this.chatWrapper.innerHTML=`
    <div class="chat-title-bar">Chat <span class="chat-title-bar-close"><i class="fas fa-times-circle"></i></span></div>
    <div id="chat" class="chat-log"></div>
    
    <form id="chatForm" class="chat-form border-top">
      <input type="text" class="chat-field" id="chatField" placeholder="Type a message" autocomplete="off">
    </form>
    `}}class cc{constructor(){this.links=document.querySelectorAll(".profile-nav a"),this.contentArea=document.querySelector(".profile-slot-content"),this.events()}events(){addEventListener("popstate",()=>{this.handleChange()}),this.links.forEach(r=>{r.addEventListener("click",s=>this.handleLinkClick(s))})}handleChange(){this.links.forEach(r=>r.classList.remove("active")),this.links.forEach(async r=>{if(r.getAttribute("href")==window.location.pathname){const s=await axios.get(r.href+"/raw");this.contentArea.innerHTML=tt.sanitize(s.data.theHTML),document.title=s.data.docTitle+" | OurApp",r.classList.add("active")}})}async handleLinkClick(r){this.links.forEach(a=>a.classList.remove("active")),r.target.classList.add("active"),r.preventDefault();const s=await axios.get(r.target.href+"/raw");this.contentArea.innerHTML=tt.sanitize(s.data.theHTML),document.title=s.data.docTitle+" | OurApp",history.pushState({},"",r.target.href)}}document.querySelector(".header-search-icon")&&new sc;document.querySelector(".header-chat-icon")&&new ac;document.querySelector(".profile-nav")&&new cc;
